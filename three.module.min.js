var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(t){var E=0;return function(){return E<t.length?{done:!1,value:t[E++]}:{done:!0}}};$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}};$jscomp.makeIterator=function(t){var E="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return E?E.call(t):$jscomp.arrayIterator(t)};$jscomp.arrayFromIterator=function(t){for(var E,G=[];!(E=t.next()).done;)G.push(E.value);return G};
$jscomp.arrayFromIterable=function(t){return t instanceof Array?t:$jscomp.arrayFromIterator($jscomp.makeIterator(t))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(t){var E=function(){};E.prototype=t;return new E};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,E,G){if(t==Array.prototype||t==Object.prototype)return t;t[E]=G.value;return t};$jscomp.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var E=0;E<t.length;++E){var G=t[E];if(G&&G.Math==Math)return G}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(t,E){var G=$jscomp.propertyToPolyfillSymbol[E];if(null==G)return t[E];G=t[G];return void 0!==G?G:t[E]};
$jscomp.polyfill=function(t,E,G,S){E&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(t,E,G,S):$jscomp.polyfillUnisolated(t,E,G,S))};$jscomp.polyfillUnisolated=function(t,E,G,S){G=$jscomp.global;t=t.split(".");for(S=0;S<t.length-1;S++){var T=t[S];if(!(T in G))return;G=G[T]}t=t[t.length-1];S=G[t];E=E(S);E!=S&&null!=E&&$jscomp.defineProperty(G,t,{configurable:!0,writable:!0,value:E})};
$jscomp.polyfillIsolated=function(t,E,G,S){var T=t.split(".");t=1===T.length;S=T[0];S=!t&&S in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var qa=0;qa<T.length-1;qa++){var va=T[qa];if(!(va in S))return;S=S[va]}T=T[T.length-1];G=$jscomp.IS_SYMBOL_NATIVE&&"es6"===G?S[T]:null;E=E(G);null!=E&&(t?$jscomp.defineProperty($jscomp.polyfills,T,{configurable:!0,writable:!0,value:E}):E!==G&&(void 0===$jscomp.propertyToPolyfillSymbol[T]&&(G=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[T]=
$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(T):$jscomp.POLYFILL_PREFIX+G+"$"+T),$jscomp.defineProperty(S,$jscomp.propertyToPolyfillSymbol[T],{configurable:!0,writable:!0,value:E})))};
$jscomp.getConstructImplementation=function(){function t(){function G(){}new G;Reflect.construct(G,[],function(){});return new G instanceof G}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(t())return Reflect.construct;var E=Reflect.construct;return function(G,S,T){G=E(G,S);T&&Reflect.setPrototypeOf(G,T.prototype);return G}}return function(G,S,T){void 0===T&&(T=G);T=$jscomp.objectCreate(T.prototype||Object.prototype);return Function.prototype.apply.call(G,T,S)||
T}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var t={a:!0},E={};try{return E.__proto__=t,E.a}catch(G){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(t,E){t.__proto__=E;if(t.__proto__!==E)throw new TypeError(t+" is not extensible");return t}:null;
$jscomp.inherits=function(t,E){t.prototype=$jscomp.objectCreate(E.prototype);t.prototype.constructor=t;if($jscomp.setPrototypeOf){var G=$jscomp.setPrototypeOf;G(t,E)}else for(G in E)if("prototype"!=G)if(Object.defineProperties){var S=Object.getOwnPropertyDescriptor(E,G);S&&Object.defineProperty(t,G,S)}else t[G]=E[G];t.superClass_=E.prototype};$jscomp.polyfill("Reflect",function(t){return t?t:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(t){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(t){if(t)return t;if($jscomp.setPrototypeOf){var E=$jscomp.setPrototypeOf;return function(G,S){try{return E(G,S),!0}catch(T){return!1}}}return null},"es6","es5");$jscomp.owns=function(t,E){return Object.prototype.hasOwnProperty.call(t,E)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(t,E){for(var G=1;G<arguments.length;G++){var S=arguments[G];if(S)for(var T in S)$jscomp.owns(S,T)&&(t[T]=S[T])}return t};
$jscomp.polyfill("Object.assign",function(t){return t||$jscomp.assign},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(t){if(t)return t;var E=function(qa,va){this.$jscomp$symbol$id_=qa;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:va})};E.prototype.toString=function(){return this.$jscomp$symbol$id_};var G="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",S=0,T=function(qa){if(this instanceof T)throw new TypeError("Symbol is not a constructor");return new E(G+(qa||"")+"_"+S++,qa)};return T},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var E="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),G=0;G<E.length;G++){var S=$jscomp.global[E[G]];"function"===typeof S&&"function"!=typeof S.prototype[t]&&$jscomp.defineProperty(S.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return t},"es6",
"es3");$jscomp.iteratorPrototype=function(t){t={next:t};t[Symbol.iterator]=function(){return this};return t};$jscomp.iteratorFromArray=function(t,E){t instanceof String&&(t+="");var G=0,S=!1,T={next:function(){if(!S&&G<t.length){var qa=G++;return{value:E(qa,t[qa]),done:!1}}S=!0;return{done:!0,value:void 0}}};T[Symbol.iterator]=function(){return T};return T};
$jscomp.polyfill("Array.prototype.keys",function(t){return t?t:function(){return $jscomp.iteratorFromArray(this,function(E){return E})}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var t={},E=Object.create(new $jscomp.global.Proxy(t,{get:function(G,S,T){return G==t&&"q"==S&&T==E}}));return!0===E.q}catch(G){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(t){function E(){if(!t||!Object.seal)return!1;try{var M=Object.seal({}),U=Object.seal({}),la=new t([[M,2],[U,3]]);if(2!=la.get(M)||3!=la.get(U))return!1;la.delete(M);la.set(U,4);return!la.has(M)&&4==la.get(U)}catch(Ha){return!1}}function G(){}function S(M){var U=typeof M;return"object"===U&&null!==M||"function"===U}function T(M){if(!$jscomp.owns(M,va)){var U=new G;$jscomp.defineProperty(M,va,{value:U})}}function qa(M){if(!$jscomp.ISOLATE_POLYFILLS){var U=Object[M];
U&&(Object[M]=function(la){if(la instanceof G)return la;Object.isExtensible(la)&&T(la);return U(la)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&$jscomp.ES6_CONFORMANCE)return t}else if(E())return t;var va="$jscomp_hidden_"+Math.random();qa("freeze");qa("preventExtensions");qa("seal");var wa=0,O=function(M){this.id_=(wa+=Math.random()+1).toString();if(M){M=$jscomp.makeIterator(M);for(var U;!(U=M.next()).done;)U=U.value,this.set(U[0],U[1])}};O.prototype.set=function(M,U){if(!S(M))throw Error("Invalid WeakMap key");
T(M);if(!$jscomp.owns(M,va))throw Error("WeakMap key fail: "+M);M[va][this.id_]=U;return this};O.prototype.get=function(M){return S(M)&&$jscomp.owns(M,va)?M[va][this.id_]:void 0};O.prototype.has=function(M){return S(M)&&$jscomp.owns(M,va)&&$jscomp.owns(M[va],this.id_)};O.prototype.delete=function(M){return S(M)&&$jscomp.owns(M,va)&&$jscomp.owns(M[va],this.id_)?delete M[va][this.id_]:!1};return O},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(t){function E(){if($jscomp.ASSUME_NO_NATIVE_MAP||!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var O=Object.seal({x:4}),M=new t($jscomp.makeIterator([[O,"s"]]));if("s"!=M.get(O)||1!=M.size||M.get({x:4})||M.set({x:4},"t")!=M||2!=M.size)return!1;var U=M.entries(),la=U.next();if(la.done||la.value[0]!=O||"s"!=la.value[1])return!1;la=U.next();return la.done||4!=la.value[0].x||"t"!=la.value[1]||!U.next().done?!1:!0}catch(Ha){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&$jscomp.ES6_CONFORMANCE)return t}else if(E())return t;var G=new WeakMap,S=function(O){this.data_={};this.head_=va();this.size=0;if(O){O=$jscomp.makeIterator(O);for(var M;!(M=O.next()).done;)M=M.value,this.set(M[0],M[1])}};S.prototype.set=function(O,M){O=0===O?0:O;var U=T(this,O);U.list||(U.list=this.data_[U.id]=[]);U.entry?U.entry.value=M:(U.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:O,value:M},U.list.push(U.entry),
this.head_.previous.next=U.entry,this.head_.previous=U.entry,this.size++);return this};S.prototype.delete=function(O){O=T(this,O);return O.entry&&O.list?(O.list.splice(O.index,1),O.list.length||delete this.data_[O.id],O.entry.previous.next=O.entry.next,O.entry.next.previous=O.entry.previous,O.entry.head=null,this.size--,!0):!1};S.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=va();this.size=0};S.prototype.has=function(O){return!!T(this,O).entry};S.prototype.get=function(O){return(O=
T(this,O).entry)&&O.value};S.prototype.entries=function(){return qa(this,function(O){return[O.key,O.value]})};S.prototype.keys=function(){return qa(this,function(O){return O.key})};S.prototype.values=function(){return qa(this,function(O){return O.value})};S.prototype.forEach=function(O,M){for(var U=this.entries(),la;!(la=U.next()).done;)la=la.value,O.call(M,la[1],la[0],this)};S.prototype[Symbol.iterator]=S.prototype.entries;var T=function(O,M){var U=M&&typeof M;"object"==U||"function"==U?G.has(M)?
U=G.get(M):(U=""+ ++wa,G.set(M,U)):U="p_"+M;var la=O.data_[U];if(la&&$jscomp.owns(O.data_,U))for(O=0;O<la.length;O++){var Ha=la[O];if(M!==M&&Ha.key!==Ha.key||M===Ha.key)return{id:U,list:la,index:O,entry:Ha}}return{id:U,list:la,index:-1,entry:void 0}},qa=function(O,M){var U=O.head_;return $jscomp.iteratorPrototype(function(){if(U){for(;U.head!=O.head_;)U=U.previous;for(;U.next!=U.head;)return U=U.next,{done:!1,value:M(U)};U=null}return{done:!0,value:void 0}})},va=function(){var O={};return O.previous=
O.next=O.head=O},wa=0;return S},"es6","es3");
function initThreeJS(){function t(){}function E(a,c,b,e,d,f,g,h,l,m){Object.defineProperty(this,"id",{value:gc++});this.uuid=Ka.generateUUID();this.name="";this.image=void 0!==a?a:E.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==c?c:E.DEFAULT_MAPPING;this.wrapS=void 0!==b?b:1001;this.wrapT=void 0!==e?e:1001;this.magFilter=void 0!==d?d:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==l?l:1;this.format=void 0!==g?g:1023;this.internalFormat=null;this.type=void 0!==h?h:1009;this.offset=
new sa(0,0);this.repeat=new sa(1,1);this.center=new sa(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new za;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}function G(){}function S(){}function T(){Object.defineProperty(this,"id",{value:hc++});this.uuid=Ka.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=T.DefaultUp.clone();var a=new W,c=new Wa,
b=new Ya,e=new W(1,1,1);c._onChange(function(){b.setFromEuler(c,!1)});b._onChange(function(){});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:c},quaternion:{configurable:!0,enumerable:!0,value:b},scale:{configurable:!0,enumerable:!0,value:e},modelViewMatrix:{value:new ya},normalMatrix:{value:new za}});this.matrix=new ya;this.matrixWorld=new ya;this.matrixAutoUpdate=T.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=
!1;this.layers=new lb;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}function qa(){Object.defineProperty(this,"id",{value:ic++});this.uuid=Ka.generateUUID();this.name="";this.type="Material";this.fog=!0;this.blending=1;this.side=0;this.vertexColors=this.flatShading=!1;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=
3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.toneMapped=this.visible=!0;this.userData=
{};this.version=0}function va(a){qa.call(this);this.type="MeshBasicMaterial";this.color=new ta(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphTargets=this.skinning=!1;this.setValues(a)}function wa(a,c,b){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
this.name="";this.array=a;this.itemSize=c;this.count=void 0!==a?a.length/c:0;this.normalized=!0===b;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0}function O(){}function M(){}function U(){}function la(){}function Ha(a,c,b){wa.call(this,new Uint16Array(a),c,b)}function Cb(){}function hb(){}function Ia(a,c,b){wa.call(this,new Float32Array(a),c,b)}function Db(){}function Ra(){Object.defineProperty(this,"id",{value:jc+=2});this.uuid=Ka.generateUUID();this.name="";this.type="BufferGeometry";
this.index=null;this.attributes={};this.morphAttributes={};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:1/0};this.userData={}}function Za(a,c){T.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new Ra;this.material=void 0!==c?c:new va;this.updateMorphTargets()}function bb(a){var c={},b;for(b in a){c[b]={};for(var e in a[b]){var d=a[b][e];d&&(d.isColor||d.isMatrix3||d.isMatrix4||d.isVector2||d.isVector3||d.isVector4||d.isTexture)?
c[b][e]=d.clone():Array.isArray(d)?c[b][e]=d.slice():c[b][e]=d}}return c}function Ea(a){for(var c={},b=0;b<a.length;b++){var e=bb(a[b]),d;for(d in e)c[d]=e[d]}return c}function Ta(a){qa.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=
1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}function ib(){T.call(this);
this.type="Camera";this.matrixWorldInverse=new ya;this.projectionMatrix=new ya;this.projectionMatrixInverse=new ya}function Xa(a,c,b,e){ib.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==b?b:.1;this.far=void 0!==e?e:2E3;this.focus=10;this.aspect=void 0!==c?c:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}function Eb(){}function jb(a,c,b,e,d,f,g,h,l,m){a=void 0!==a?a:[];E.call(this,a,void 0!==c?c:301,b,e,d,f,void 0!==
g?g:1022,h,l,m);this.flipY=!1;this._needsFlipEnvMap=!0}function cb(){}function mb(){}function Fb(){return{start:function(){},stop:function(){},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function kc(a,c){c.isWebGL2;var b=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),b.get(e)},remove:function(){},update:function(e,d){if(e.isGLBufferAttribute){var f=b.get(e);(!f||f.version<e.version)&&b.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,
version:e.version})}else if(e.isInterleavedBufferAttribute&&(e=e.data),f=b.get(e),void 0===f){f=b.set;var g=e,h=e.array,l=e.usage,m=a.createBuffer();a.bindBuffer(d,m);a.bufferData(d,h,l);e.onUploadCallback();l=5126;d=(h instanceof Float32Array?l=5126:h instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):h instanceof Uint16Array?l=5123:h instanceof Int16Array?l=5122:h instanceof Uint32Array?l=5125:h instanceof Int32Array?l=5124:h instanceof Int8Array?
l=5120:h instanceof Uint8Array&&(l=5121),{buffer:m,type:l,bytesPerElement:h.BYTES_PER_ELEMENT,version:e.version});f.call(b,g,d)}else f.version<e.version&&(f.buffer,f.version=e.version)}}}function lc(a,c,b,e,d){var f=new ta(0),g,h,l=null,m=0,x=null;return{render:function(w,u,q,y){(q=!0===u.isScene?u.background:null)&&q.isTexture&&(q=c.get(q));var k=a.xr;(u=k.getSession&&k.getSession())&&"additive"===u.environmentBlendMode&&(q=null);null===q?b.buffers.color.setClear(f.r,f.g,f.b,0,d):q&&q.isColor&&(b.buffers.color.setClear(q.r,
q.g,q.b,1,d),y=!0);(a.autoClear||y)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);q&&(q.isCubeTexture||q.isWebGLCubeRenderTarget||306===q.mapping)?(void 0===h&&(h=new Za(new Gb(1,1,1),new Ta({name:"BackgroundCubeMaterial",uniforms:bb(La.cube.uniforms),vertexShader:La.cube.vertexShader,fragmentShader:La.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(){},Object.defineProperty(h.material,
"envMap",{get:function(){}}),e.update(h)),q.isWebGLCubeRenderTarget&&(q=q.texture),h.material.uniforms.envMap.value=q,h.material.uniforms.flipEnvMap.value=q.isCubeTexture&&q._needsFlipEnvMap?-1:1,l===q&&m===q.version&&x===a.toneMapping||(h.material.needsUpdate=!0,l=q,m=q.version,x=a.toneMapping),w.unshift(h,h.geometry,h.material,0,0,null)):q&&q.isTexture&&(void 0===g&&(g=new Za(new nb(2,2),new Ta({name:"BackgroundMaterial",uniforms:bb(La.background.uniforms),vertexShader:La.background.vertexShader,
fragmentShader:La.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),Object.defineProperty(g.material,"map",{get:function(){}}),e.update(g)),g.material.uniforms.t2D.value=q,!0===q.matrixAutoUpdate&&q.updateMatrix(),g.material.uniforms.uvTransform.value.copy(q.matrix),l===q&&m===q.version&&x===a.toneMapping||(g.material.needsUpdate=!0,l=q,m=q.version,x=a.toneMapping),w.unshift(g,g.geometry,g.material,0,0,null))}}}function mc(a,c,b,e){function d(k){for(var p=
[],v=[],F=[],z=0;z<m;z++)p[z]=0,v[z]=0,F[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:p,enabledAttributes:v,attributeDivisors:F,object:k,attributes:{},index:null}}function f(){for(var k=y.newAttributes,p=0,v=k.length;p<v;p++)k[p]=0}function g(k){h(k,0)}function h(k,p){var v=y.enabledAttributes,F=y.attributeDivisors;if(y.newAttributes[k]=1,0===v[k]&&(a.enableVertexAttribArray(k),v[k]=1),F[k]!==p)(e.isWebGL2?a:c.get("ANGLE_instanced_arrays"))[e.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,
p),F[k]=p}function l(){for(var k=y.newAttributes,p=y.enabledAttributes,v=0,F=p.length;v<F;v++)p[v]!==k[v]&&(a.disableVertexAttribArray(v),p[v]=0)}var m=a.getParameter(34921),x=e.isWebGL2?null:c.get("OES_vertex_array_object"),w=e.isWebGL2||null!==x,u={},q=d(null),y=q;return{setup:function(k,p,v,F,z){var I=!1,Y,ea;w?(Y=function(fa,D,C){C=!0===p.wireframe;var L=u[fa.id];void 0===L&&(L={},u[fa.id]=L);fa=L[D.id];void 0===fa&&(fa={},L[D.id]=fa);D=fa[C];return void 0===D&&(D=d(e.isWebGL2?a.createVertexArray():
x.createVertexArrayOES()),fa[C]=D),D}(F,v),y!==Y&&(y=Y,ea=y.object,e.isWebGL2?a.bindVertexArray(ea):x.bindVertexArrayOES(ea)),I=function(fa,D){var C=y.attributes;fa=fa.attributes;if(Object.keys(C).length!==Object.keys(fa).length)return!0;for(var L in fa){var ba=C[L],P=fa[L];if(void 0===ba||ba.attribute!==P||ba.data!==P.data)return!0}return y.index!==D}(F,z),I&&function(fa){var D={},C=F.attributes,L;for(L in C){var ba=C[L],P={};(P.attribute=ba).data&&(P.data=ba.data);D[L]=P}y.attributes=D;y.index=
fa}(z)):(ea=!0===p.wireframe,y.geometry===F.id&&y.program===v.id&&y.wireframe===ea||(y.geometry=F.id,y.program=v.id,y.wireframe=ea,I=!0));!0===k.isInstancedMesh&&(I=!0);null!==z&&b.update(z,34963);I&&(function(fa,D,C,L){if(!1!==e.isWebGL2||!fa.isInstancedMesh&&!L.isInstancedBufferGeometry||null!==c.get("ANGLE_instanced_arrays")){f();var ba=L.attributes;C=C.getAttributes();D=D.defaultAttributeValues;for(var P in C){var aa=C[P];if(0<=aa){var ha=ba[P];if(void 0!==ha){var na,ma=ha.normalized,ca=ha.itemSize,
ia=b.get(ha);if(void 0!==ia){var V=ia.buffer;var da=ia.type;var N=ia.bytesPerElement;if(ha.isInterleavedBufferAttribute){var r=(na=ha.data).stride;ia=ha.offset;na&&na.isInstancedInterleavedBuffer?(h(aa,na.meshPerAttribute),void 0===L._maxInstanceCount&&(L._maxInstanceCount=na.meshPerAttribute*na.count)):g(aa);a.bindBuffer(34962,V);r*=N;N*=ia;!0!==e.isWebGL2||5124!==da&&5125!==da?a.vertexAttribPointer(aa,ca,da,ma,r,N):a.vertexAttribIPointer(aa,ca,da,r,N)}else ha.isInstancedBufferAttribute?(h(aa,ha.meshPerAttribute),
void 0===L._maxInstanceCount&&(L._maxInstanceCount=ha.meshPerAttribute*ha.count)):g(aa),a.bindBuffer(34962,V),N=aa,ia=ca,!0!==e.isWebGL2||5124!==da&&5125!==da?a.vertexAttribPointer(N,ia,da,ma,0,0):a.vertexAttribIPointer(N,ia,da,0,0)}}else if("instanceMatrix"===P)void 0!==(ma=b.get(fa.instanceMatrix))&&(Z=ma.buffer,Q=ma.type,h(aa+0,1),h(aa+1,1),h(aa+2,1),h(aa+3,1),a.bindBuffer(34962,Z),a.vertexAttribPointer(aa+0,4,Q,!1,64,0),a.vertexAttribPointer(aa+1,4,Q,!1,64,16),a.vertexAttribPointer(aa+2,4,Q,!1,
64,32),a.vertexAttribPointer(aa+3,4,Q,!1,64,48));else if("instanceColor"===P){var Q,Z=b.get(fa.instanceColor);void 0!==Z&&(Q=Z.buffer,Z=Z.type,h(aa,1),a.bindBuffer(34962,Q),a.vertexAttribPointer(aa,3,Z,!1,12,0))}else if(void 0!==D&&(da=D[P],void 0!==da))switch(da.length){case 2:a.vertexAttrib2fv(aa,da);break;case 3:a.vertexAttrib3fv(aa,da);break;case 4:a.vertexAttrib4fv(aa,da);break;default:a.vertexAttrib1fv(aa,da)}}}l()}}(k,p,v,F),null!==z&&a.bindBuffer(34963,b.get(z).buffer))},resetDefaultState:function(){q.geometry=
null;q.program=null;q.wireframe=!1},initAttributes:f,enableAttribute:g,disableUnusedAttributes:l}}function nc(a,c,b,e){e.isWebGL2;var d;this.setMode=function(f){d=f};this.render=function(f,g){a.drawArrays(d,f,g);b.update(g,d,1)};this.renderInstances=function(){}}function oc(a,c,b){function e(v){if("highp"===v){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";v="mediump"}return"mediump"===v&&0<a.getShaderPrecisionFormat(35633,
36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var d="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&a instanceof WebGL2ComputeRenderingContext,f=void 0!==b.precision?b.precision:"highp";(p=e(f))!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);var g=!0===b.logarithmicDepthBuffer,h=a.getParameter(34930),l=a.getParameter(35660),m=a.getParameter(3379),
x=a.getParameter(34076),w=a.getParameter(34921),u=a.getParameter(36347),q=a.getParameter(36348),y=a.getParameter(36349),k=0<l,p=d||!!c.get("OES_texture_float");b=k&&p;c=d?a.getParameter(36183):0;return{isWebGL2:d,getMaxAnisotropy:function(){},getMaxPrecision:e,precision:f,logarithmicDepthBuffer:g,maxTextures:h,maxVertexTextures:l,maxTextureSize:m,maxCubemapSize:x,maxAttributes:w,maxVertexUniforms:u,maxVaryings:q,maxFragmentUniforms:y,vertexTextures:k,floatFragmentTextures:p,floatVertexTextures:b,
maxSamples:c}}function pc(a){var c=this,b=0,e=!1,d=new Ma,f=new za,g={value:null,needsUpdate:!1};this.uniform=g;this.numIntersection=this.numPlanes=0;this.init=function(h,l,m){var x=0!==h.length||l||0!==b||e;e=l;l=null!==h?h.length:0;var w=null;if(0!==l){w=g.value;var u=4*l;m=m.matrixWorldInverse;f.getNormalMatrix(m);(null===w||w.length<u)&&(w=new Float32Array(u));for(var q=u=0;u!==l;++u,q+=4)d.copy(h[u]).applyMatrix4(m,f),d.normal.toArray(w,q),w[q+3]=d.constant;g.value=w;g.needsUpdate=!0}c.numPlanes=
l;c.numIntersection=0;return b=h.length,x};this.beginShadows=function(){};this.endShadows=function(){};this.setState=function(){}}function qc(a){function c(){}var b=new WeakMap;return{get:function(e){if(!e||!e.isTexture||303!==(h=e.mapping)&&304!==h)return e;if(b.has(e))return b.get(e).texture,void 0;var d=e.image;if(d&&0<d.height){var f=a.getRenderList(),g=a.getRenderTarget(),h=a.getRenderState();d=new cb(d.height);return d.fromEquirectangularTexture(a,e),b.set(e,d),a.setRenderTarget(g),a.setRenderList(f),
a.setRenderState(h),e.addEventListener("dispose",c),d.texture,void 0}return null},dispose:function(){}}}function rc(a){var c={};return{has:function(b){if(void 0!==c[b])return null!==c[b];switch(b){case "WEBGL_depth_texture":var e=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":e=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||
a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":e=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":e=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=a.getExtension(b)}return c[b]=e,null!==e},get:function(b){return this.has(b)||
console.warn("THREE.WebGLRenderer: "+b+" extension not supported."),c[b]}}}function sc(a,c,b,e){function d(){}var f=new WeakMap;return new WeakMap,{get:function(g,h){var l=f.get(h);return l||(h.addEventListener("dispose",d),h.isBufferGeometry?l=h:h.isGeometry&&(void 0===h._bufferGeometry&&(h._bufferGeometry=(new Ra).setFromObject(g)),l=h._bufferGeometry),f.set(h,l),b.memory.geometries++,l)},update:function(g){var h=g.attributes;for(m in h)c.update(h[m],34962);g=g.morphAttributes;for(var l in g){h=
g[l];var m=0;for(var x=h.length;m<x;m++)c.update(h[m],34962)}},getWireframeAttribute:function(){}}}function tc(a,c,b,e){e.isWebGL2;this.setMode=function(){};this.setIndex=function(){};this.render=function(){};this.renderInstances=function(){}}function uc(a){var c={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:c,programs:null,autoReset:!0,reset:function(){c.frame++;c.calls=0;c.triangles=0;c.points=0;c.lines=0},update:function(b,e,d){switch(c.calls++,e){case 4:c.triangles+=
b/3*d;break;case 1:c.lines+=b/2*d;break;case 3:c.lines+=d*(b-1);break;case 2:c.lines+=d*b;break;case 0:c.points+=d*b;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function vc(a){new Float32Array(8);for(a=0;8>a;a++);return{update:function(){}}}function wc(a,c,b,e){var d=new WeakMap;return{update:function(f){var g=e.render.frame,h=f.geometry,l=c.get(f,h);return d.get(l)!==g&&(h.isGeometry&&l.updateFromObject(f),c.update(l),d.set(l,g)),f.isInstancedMesh&&(b.update(f.instanceMatrix,
34962),null!==f.instanceColor&&b.update(f.instanceColor,34962)),l},dispose:function(){}}}function ob(a,c,b,e){E.call(this,null);this.image={data:a||null,width:c||1,height:b||1,depth:e||1};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}function pb(a,c,b,e){E.call(this,null);this.image={data:a||null,width:c||1,height:b||1,depth:e||1};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}function qb(a,
c){if(a.length===c.length){for(var b=0,e=a.length;b<e;b++)if(a[b]!==c[b])return;return 1}}function rb(a,c){for(var b=0,e=c.length;b<e;b++)a[b]=c[b]}function xc(a,c){var b=this.cache;b[0]!==c&&(a.uniform1f(this.addr,c),b[0]=c)}function yc(){}function zc(a,c){var b=this.cache;void 0!==c.x?b[0]===c.x&&b[1]===c.y&&b[2]===c.z||(a.uniform3f(this.addr,c.x,c.y,c.z),b[0]=c.x,b[1]=c.y,b[2]=c.z):void 0!==c.r?b[0]===c.r&&b[1]===c.g&&b[2]===c.b||(a.uniform3f(this.addr,c.r,c.g,c.b),b[0]=c.r,b[1]=c.g,b[2]=c.b):
qb(b,c)||(a.uniform3fv(this.addr,c),rb(b,c))}function Ac(){}function Bc(){}function Cc(){}function Dc(a,c){var b=this.cache,e=c.elements;void 0===e?qb(b,c)||(a.uniformMatrix4fv(this.addr,!1,c),rb(b,c)):qb(b,e)||(Hb.set(e),a.uniformMatrix4fv(this.addr,!1,Hb),rb(b,e))}function Ec(a,c,b){var e=this.cache,d=b.allocateTextureUnit();e[0]!==d&&(a.uniform1i(this.addr,d),e[0]=d);b.safeSetTexture2D(c||Fc,d)}function Gc(){}function Hc(){}function Ic(){}function Jc(){}function Kc(){}function Lc(){}function Mc(){}
function Nc(){}function Oc(a,c,b){this.id=a;this.addr=b;this.cache=[];this.setValue=function(){switch(c.type){case 5126:return xc;case 35664:return yc;case 35665:return zc;case 35666:return Ac;case 35674:return Bc;case 35675:return Cc;case 35676:return Dc;case 5124:case 35670:return Jc;case 35667:case 35671:return Kc;case 35668:case 35672:return Lc;case 35669:case 35673:return Mc;case 5125:return Nc;case 35678:case 36198:case 36298:case 36306:case 35682:return Ec;case 35679:case 36299:case 36307:return Hc;
case 35680:case 36300:case 36308:case 36293:return Ic;case 36289:case 36303:case 36311:case 36292:return Gc}}()}function Ib(){}function Jb(){}function Ua(a,c){this.seq=[];this.map={};for(var b=a.getProgramParameter(c,35718),e=0;e<b;++e){var d=a.getActiveUniform(c,e),f=d;d=a.getUniformLocation(c,d.name);var g=this,h=f.name,l=h.length;for(sb.lastIndex=0;;){var m=sb.exec(h),x=sb.lastIndex,w=m[1],u="]"===m[2];m=m[3];if(u&&(w|=0),void 0===m||"["===m&&x+2===l){h=g;f=void 0===m?new Oc(w,f,d):new Ib(w);h.seq.push(f);
h.map[f.id]=f;break}m=g.map[w];void 0===m&&(m=new Jb(w),w=g,g=m,w.seq.push(g),w.map[g.id]=g);g=m}!0}}function Kb(a,c,b){return c=a.createShader(c),a.shaderSource(c,b),a.compileShader(c),c}function kb(a){return""!==a}function Lb(a,c){return a.replace(/NUM_DIR_LIGHTS/g,c.numDirLights).replace(/NUM_SPOT_LIGHTS/g,c.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,c.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,c.numPointLights).replace(/NUM_HEMI_LIGHTS/g,c.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,
c.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,c.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,c.numPointLightShadows)}function Mb(a,c){return a.replace(/NUM_CLIPPING_PLANES/g,c.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,c.numClippingPlanes-c.numClipIntersection)}function Nb(){}function Ob(){}function Pb(){}function Qb(a){var c="precision "+a.precision+" float;\nprecision "+a.precision+" int;";return"highp"===a.precision?c+="\n#define HIGH_PRECISION":"mediump"===a.precision?
c+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(c+="\n#define LOW_PRECISION"),c}function Pc(a,c,b,e){var d=a.getContext(),f=b.defines;e=b.vertexShader;var g=b.fragmentShader,h=function(z){var I="SHADOWMAP_TYPE_BASIC";return 1===z.shadowMapType?I="SHADOWMAP_TYPE_PCF":2===z.shadowMapType?I="SHADOWMAP_TYPE_PCF_SOFT":3===z.shadowMapType&&(I="SHADOWMAP_TYPE_VSM"),I}(b),l=function(){var z="ENVMAP_TYPE_CUBE";if(b.envMap)switch(b.envMapMode){case 301:case 302:z="ENVMAP_TYPE_CUBE";break;case 306:case 307:z=
"ENVMAP_TYPE_CUBE_UV"}return z}(),m=function(){var z="ENVMAP_MODE_REFLECTION";if(b.envMap)switch(b.envMapMode){case 302:case 307:z="ENVMAP_MODE_REFRACTION"}return z}(),x=function(){var z="ENVMAP_BLENDING_NONE";if(b.envMap)switch(b.combine){case 0:z="ENVMAP_BLENDING_MULTIPLY";break;case 1:z="ENVMAP_BLENDING_MIX";break;case 2:z="ENVMAP_BLENDING_ADD"}return z}(),w=0<a.gammaFactor?a.gammaFactor:1,u=b.isWebGL2?"":void 0;f=function(z){var I=[],Y;for(Y in z){var ea=z[Y];!1!==ea&&I.push("#define "+Y+" "+
ea)}return I.join("\n")}(f);var q=d.createProgram(),y,k,p=b.glslVersion?"#version "+b.glslVersion+"\n":"";if(b.isRawShaderMaterial?(y=[f].filter(kb).join("\n"),0<y.length&&(y+="\n"),k=[u,f].filter(kb).join("\n"),0<k.length&&(k+="\n")):(y=[Qb(b),"#define SHADER_NAME "+b.shaderName,f,b.instancing?"#define USE_INSTANCING":"",b.instancingColor?"#define USE_INSTANCING_COLOR":"",b.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+w,"#define MAX_BONES "+b.maxBones,b.useFog&&b.fog?
"#define USE_FOG":"",b.useFog&&b.fogExp2?"#define FOG_EXP2":"",b.map?"#define USE_MAP":"",b.envMap?"#define USE_ENVMAP":"",b.envMap?"#define "+m:"",b.lightMap?"#define USE_LIGHTMAP":"",b.aoMap?"#define USE_AOMAP":"",b.emissiveMap?"#define USE_EMISSIVEMAP":"",b.bumpMap?"#define USE_BUMPMAP":"",b.normalMap?"#define USE_NORMALMAP":"",b.normalMap&&b.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",b.normalMap&&b.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",b.clearcoatMap?"#define USE_CLEARCOATMAP":
"",b.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",b.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",b.displacementMap&&b.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",b.specularMap?"#define USE_SPECULARMAP":"",b.roughnessMap?"#define USE_ROUGHNESSMAP":"",b.metalnessMap?"#define USE_METALNESSMAP":"",b.alphaMap?"#define USE_ALPHAMAP":"",b.transmissionMap?"#define USE_TRANSMISSIONMAP":"",b.vertexTangents?"#define USE_TANGENT":"",b.vertexColors?"#define USE_COLOR":"",
b.vertexUvs?"#define USE_UV":"",b.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",b.flatShading?"#define FLAT_SHADED":"",b.skinning?"#define USE_SKINNING":"",b.useVertexTexture?"#define BONE_TEXTURE":"",b.morphTargets?"#define USE_MORPHTARGETS":"",b.morphNormals&&!1===b.flatShading?"#define USE_MORPHNORMALS":"",b.doubleSided?"#define DOUBLE_SIDED":"",b.flipSided?"#define FLIP_SIDED":"",b.shadowMapEnabled?"#define USE_SHADOWMAP":"",b.shadowMapEnabled?"#define "+h:"",b.sizeAttenuation?"#define USE_SIZEATTENUATION":
"",b.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",b.logarithmicDepthBuffer&&b.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;",
"attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;",
"\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(kb).join("\n"),k=[u,Qb(b),"#define SHADER_NAME "+b.shaderName,f,b.alphaTest?"#define ALPHATEST "+b.alphaTest+(b.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+w,b.useFog&&b.fog?"#define USE_FOG":"",b.useFog&&b.fogExp2?"#define FOG_EXP2":"",b.map?"#define USE_MAP":"",b.matcap?
"#define USE_MATCAP":"",b.envMap?"#define USE_ENVMAP":"",b.envMap?"#define "+l:"",b.envMap?"#define "+m:"",b.envMap?"#define "+x:"",b.lightMap?"#define USE_LIGHTMAP":"",b.aoMap?"#define USE_AOMAP":"",b.emissiveMap?"#define USE_EMISSIVEMAP":"",b.bumpMap?"#define USE_BUMPMAP":"",b.normalMap?"#define USE_NORMALMAP":"",b.normalMap&&b.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",b.normalMap&&b.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",b.clearcoatMap?"#define USE_CLEARCOATMAP":
"",b.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",b.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",b.specularMap?"#define USE_SPECULARMAP":"",b.roughnessMap?"#define USE_ROUGHNESSMAP":"",b.metalnessMap?"#define USE_METALNESSMAP":"",b.alphaMap?"#define USE_ALPHAMAP":"",b.sheen?"#define USE_SHEEN":"",b.transmissionMap?"#define USE_TRANSMISSIONMAP":"",b.vertexTangents?"#define USE_TANGENT":"",b.vertexColors||b.instancingColor?"#define USE_COLOR":"",b.vertexUvs?"#define USE_UV":
"",b.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",b.gradientMap?"#define USE_GRADIENTMAP":"",b.flatShading?"#define FLAT_SHADED":"",b.doubleSided?"#define DOUBLE_SIDED":"",b.flipSided?"#define FLIP_SIDED":"",b.shadowMapEnabled?"#define USE_SHADOWMAP":"",b.shadowMapEnabled?"#define "+h:"",b.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",b.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",b.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",b.logarithmicDepthBuffer&&b.rendererExtensionFragDepth?
"#define USE_LOGDEPTHBUF_EXT":"",(b.extensionShaderTextureLOD||b.envMap)&&b.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==b.toneMapping?"#define TONE_MAPPING":"",0!==b.toneMapping?ka.tonemapping_pars_fragment:"",0!==b.toneMapping?void 0:"",b.dithering?"#define DITHERING":"",ka.encodings_pars_fragment,b.map?void 0:"",b.matcap?void 0:"",b.envMap?void 0:"",b.emissiveMap?void 0:"",b.lightMap?
void 0:"","vec4 "+(l="linearToOutputTexel")+"( vec4 value ) { return LinearTo"+(m=function(z){switch(z){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",
z),["Linear","( value )"]}}(m=b.outputEncoding))[0]+m[1]+"; }",b.depthPacking?"#define DEPTH_PACKING "+b.depthPacking:"","\n"].filter(kb).join("\n")),e=Mb(Lb(e.replace(Rb,Nb),b),b),g=Mb(Lb(g.replace(Rb,Nb),b),b),e=e.replace(Sb,Pb).replace(Tb,Ob),g=g.replace(Sb,Pb).replace(Tb,Ob),b.isWebGL2&&!0!==b.isRawShaderMaterial&&(p="#version 300 es\n",y="#define attribute in\n#define varying out\n#define texture2D texture\n"+y,k=["#define varying in","300 es"===b.glslVersion?"":"out highp vec4 pc_fragColor;",
"300 es"===b.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+k),x=p+y+e,h=p+k+g,e=Kb(d,35633,x),g=Kb(d,35632,
h),d.attachShader(q,e),d.attachShader(q,g),void 0!==b.index0AttributeName?d.bindAttribLocation(q,0,b.index0AttributeName):!0===b.morphTargets&&d.bindAttribLocation(q,0,"position"),d.linkProgram(q),a.debug.checkShaderErrors)x=d.getProgramInfoLog(q).trim(),h=d.getShaderInfoLog(e).trim(),a=d.getShaderInfoLog(g).trim(),m=l=!0,!1===d.getProgramParameter(q,35714)?(l=!1,d,d,console.error("THREE.WebGLProgram: shader error: ",d.getError(),"35715",d.getProgramParameter(q,35715),"gl.getProgramInfoLog",x,void 0,
void 0)):""!==x?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",x):""!==h&&""!==a||(m=!1),m&&(this.diagnostics={runnable:l,programLog:x,vertexShader:{log:h,prefix:y},fragmentShader:{log:a,prefix:k}});d.deleteShader(e);d.deleteShader(g);var v;this.getUniforms=function(){return void 0===v&&(v=new Ua(d,q)),v};var F;return this.getAttributes=function(){if(void 0===F){for(var z={},I=d.getProgramParameter(q,35721),Y=0;Y<I;Y++){var ea=d.getActiveAttrib(q,Y).name;z[ea]=d.getAttribLocation(q,ea)}F=
z}return F},this.destroy=function(){},this.name=b.shaderName,this.id=Qc++,this.cacheKey=c,this.usedTimes=1,this.program=q,this.vertexShader=e,this.fragmentShader=g,this}function Rc(a,c,b,e,d,f){function g(k){var p;return k?k.isTexture?p=k.encoding:k.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),p=k.texture.encoding):p=3E3,p}var h=[],l=e.isWebGL2,m=e.logarithmicDepthBuffer,x=e.floatVertexTextures;
e.maxVertexUniforms;var w=e.vertexTextures,u=e.precision,q={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},y="precision isWebGL2 supportsVertexTextures outputEncoding instancing instancingColor map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen transmissionMap".split(" ");
return{getParameters:function(k,p,v,F,z){var I=F.fog,Y=k.isMeshStandardMaterial?F.environment:null,ea=c.get(k.envMap||Y);F=q[k.type];Y=z.isSkinnedMesh?void 0:0;null!==k.precision&&(u=e.getMaxPrecision(k.precision),u!==k.precision&&console.warn("THREE.WebGLProgram.getParameters:",k.precision,"not supported, using",u,"instead."));var fa;var D=F?(C=La[F],fa=C.vertexShader,C.fragmentShader):(fa=k.vertexShader,k.fragmentShader);var C=a.getRenderTarget();return{isWebGL2:l,shaderID:F,shaderName:k.type,vertexShader:fa,
fragmentShader:D,defines:k.defines,isRawShaderMaterial:!0===k.isRawShaderMaterial,glslVersion:k.glslVersion,precision:u,instancing:!0===z.isInstancedMesh,instancingColor:!0===z.isInstancedMesh&&null!==z.instanceColor,supportsVertexTextures:w,outputEncoding:null!==C?g(C.texture):a.outputEncoding,map:!!k.map,mapEncoding:g(k.map),matcap:!!k.matcap,matcapEncoding:g(k.matcap),envMap:!!ea,envMapMode:ea&&ea.mapping,envMapEncoding:g(ea),envMapCubeUV:!!ea&&(306===ea.mapping||307===ea.mapping),lightMap:!!k.lightMap,
lightMapEncoding:g(k.lightMap),aoMap:!!k.aoMap,emissiveMap:!!k.emissiveMap,emissiveMapEncoding:g(k.emissiveMap),bumpMap:!!k.bumpMap,normalMap:!!k.normalMap,objectSpaceNormalMap:1===k.normalMapType,tangentSpaceNormalMap:0===k.normalMapType,clearcoatMap:!!k.clearcoatMap,clearcoatRoughnessMap:!!k.clearcoatRoughnessMap,clearcoatNormalMap:!!k.clearcoatNormalMap,displacementMap:!!k.displacementMap,roughnessMap:!!k.roughnessMap,metalnessMap:!!k.metalnessMap,specularMap:!!k.specularMap,alphaMap:!!k.alphaMap,
gradientMap:!!k.gradientMap,sheen:!!k.sheen,transmissionMap:!!k.transmissionMap,combine:k.combine,vertexTangents:k.normalMap&&k.vertexTangents,vertexColors:k.vertexColors,vertexUvs:!!(k.map||k.bumpMap||k.normalMap||k.specularMap||k.alphaMap||k.emissiveMap||k.roughnessMap||k.metalnessMap||k.clearcoatMap||k.clearcoatRoughnessMap||k.clearcoatNormalMap||k.displacementMap||k.transmissionMap),uvsVertexOnly:!(k.map||k.bumpMap||k.normalMap||k.specularMap||k.alphaMap||k.emissiveMap||k.roughnessMap||k.metalnessMap||
k.clearcoatNormalMap||k.transmissionMap||!k.displacementMap),fog:!!I,useFog:k.fog,fogExp2:I&&I.isFogExp2,flatShading:k.flatShading,sizeAttenuation:k.sizeAttenuation,logarithmicDepthBuffer:m,skinning:k.skinning&&0<Y,maxBones:Y,useVertexTexture:x,morphTargets:k.morphTargets,morphNormals:k.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:p.directional.length,numPointLights:p.point.length,numSpotLights:p.spot.length,numRectAreaLights:p.rectArea.length,numHemiLights:p.hemi.length,
numDirLightShadows:p.directionalShadowMap.length,numPointLightShadows:p.pointShadowMap.length,numSpotLightShadows:p.spotShadowMap.length,numClippingPlanes:f.numPlanes,numClipIntersection:f.numIntersection,dithering:k.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<v.length,shadowMapType:a.shadowMap.type,toneMapping:k.toneMapped?a.toneMapping:0,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:k.premultipliedAlpha,alphaTest:k.alphaTest,doubleSided:2===k.side,flipSided:1===k.side,
depthPacking:void 0!==k.depthPacking&&k.depthPacking,index0AttributeName:k.index0AttributeName,extensionDerivatives:k.extensions&&k.extensions.derivatives,extensionFragDepth:k.extensions&&k.extensions.fragDepth,extensionDrawBuffers:k.extensions&&k.extensions.drawBuffers,extensionShaderTextureLOD:k.extensions&&k.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||b.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||b.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||b.has("EXT_shader_texture_lod"),
customProgramCacheKey:k.customProgramCacheKey()}},getProgramCacheKey:function(k){var p=[];if(k.shaderID?p.push(k.shaderID):(p.push(k.fragmentShader),p.push(k.vertexShader)),void 0!==k.defines)for(var v in k.defines)p.push(v),p.push(k.defines[v]);if(!1===k.isRawShaderMaterial){for(v=0;v<y.length;v++)p.push(k[y[v]]);p.push(a.outputEncoding);p.push(a.gammaFactor)}return p.push(k.customProgramCacheKey),p.join()},getUniforms:function(k){var p=q[k.type];return p?(p=La[p],Sc.clone(p.uniforms)):k.uniforms},
acquireProgram:function(k,p){for(var v,F=0,z=h.length;F<z;F++){var I=h[F];if(I.cacheKey===p){v=I;++v.usedTimes;break}}return void 0===v&&(v=new Pc(a,p,k),h.push(v)),v},releaseProgram:function(){},programs:h}}function Tc(){var a=new WeakMap;return{get:function(c){var b=a.get(c);return void 0===b&&(b={},a.set(c,b)),b},remove:function(){},update:function(){},dispose:function(){}}}function Uc(){}function Vc(a,c){return a.groupOrder!==c.groupOrder?a.groupOrder-c.groupOrder:a.renderOrder!==c.renderOrder?
a.renderOrder-c.renderOrder:a.z!==c.z?c.z-a.z:a.id-c.id}function Ub(a){var c=[],b=0,e=[],d=[],f={id:-1};return{opaque:e,transparent:d,init:function(){b=0;e.length=0;d.length=0},push:function(g,h,l,m,x,w){var u=w,q=c[b],y=a.get(l);w=(void 0===q?(q={id:g.id,object:g,geometry:h,material:l,program:y.program||f,groupOrder:m,renderOrder:g.renderOrder,z:x,group:u},c[b]=q):(q.id=g.id,q.object=g,q.geometry=h,q.material=l,q.program=y.program||f,q.groupOrder=m,q.renderOrder=g.renderOrder,q.z=x,q.group=u),b++,
q);(!0===l.transparent?d:e).push(w)},unshift:function(){},finish:function(){for(var g=b,h=c.length;g<h;g++){var l=c[g];if(null===l.id)break;l.id=null;l.object=null;l.geometry=null;l.material=null;l.program=null;l.group=null}},sort:function(g,h){1<e.length&&e.sort(g||Uc);1<d.length&&d.sort(h||Vc)}}}function Wc(a){var c=new WeakMap;return{get:function(b,e){var d=c.get(b),f;return void 0===d?(f=new Ub(a),c.set(b,new WeakMap),c.get(b).set(e,f)):(f=d.get(e),void 0===f&&(f=new Ub(a),d.set(e,f))),f},dispose:function(){}}}
function Xc(){return{get:function(){}}}function Yc(){}function Zc(a,c){for(var b=new Xc,e={get:function(){}},d={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],
pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},f=0;9>f;f++)d.probe.push(new W);var g=new W,h=new ya,l=new ya;return{setup:function(m,x,w){for(var u=x=0,q=0,y=0;9>y;y++)d.probe[y].set(0,0,0);var k=y=0,p=0,v=0,F=0,z=0,I=0,Y=0;w=w.matrixWorldInverse;m.sort(Yc);for(var ea=0,fa=m.length;ea<fa;ea++){var D=m[ea],C=D.color,L=D.intensity,ba=D.distance,P=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)x+=C.r*L,u+=C.g*L,q+=C.b*L;else if(D.isLightProbe)for(P=0;9>P;P++)d.probe[P].addScaledVector(D.sh.coefficients[P],
L);else if(D.isDirectionalLight){C=b.get(D);if(C.color.copy(D.color).multiplyScalar(D.intensity),C.direction.setFromMatrixPosition(D.matrixWorld),g.setFromMatrixPosition(D.target.matrixWorld),C.direction.sub(g),C.direction.transformDirection(w),D.castShadow)L=D.shadow,ba=e.get(D),ba.shadowBias=L.bias,ba.shadowNormalBias=L.normalBias,ba.shadowRadius=L.radius,ba.shadowMapSize=L.mapSize,d.directionalShadow[y]=ba,d.directionalShadowMap[y]=P,d.directionalShadowMatrix[y]=D.shadow.matrix,z++;d.directional[y]=
C;y++}else if(D.isSpotLight){var aa=b.get(D);if(aa.position.setFromMatrixPosition(D.matrixWorld),aa.position.applyMatrix4(w),aa.color.copy(C).multiplyScalar(L),aa.distance=ba,aa.direction.setFromMatrixPosition(D.matrixWorld),g.setFromMatrixPosition(D.target.matrixWorld),aa.direction.sub(g),aa.direction.transformDirection(w),aa.coneCos=Math.cos(D.angle),aa.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),aa.decay=D.decay,D.castShadow)ba=D.shadow,C=e.get(D),C.shadowBias=ba.bias,C.shadowNormalBias=ba.normalBias,
C.shadowRadius=ba.radius,C.shadowMapSize=ba.mapSize,d.spotShadow[p]=C,d.spotShadowMap[p]=P,d.spotShadowMatrix[p]=D.shadow.matrix,Y++;d.spot[p]=aa;p++}else if(D.isRectAreaLight)P=b.get(D),P.color.copy(C).multiplyScalar(L),P.position.setFromMatrixPosition(D.matrixWorld),P.position.applyMatrix4(w),l.identity(),h.copy(D.matrixWorld),h.premultiply(w),l.extractRotation(h),P.halfWidth.set(.5*D.width,0,0),P.halfHeight.set(0,.5*D.height,0),P.halfWidth.applyMatrix4(l),P.halfHeight.applyMatrix4(l),d.rectArea[v]=
P,v++;else if(D.isPointLight){L=b.get(D);if(L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(w),L.color.copy(D.color).multiplyScalar(D.intensity),L.distance=D.distance,L.decay=D.decay,D.castShadow)C=D.shadow,ba=e.get(D),ba.shadowBias=C.bias,ba.shadowNormalBias=C.normalBias,ba.shadowRadius=C.radius,ba.shadowMapSize=C.mapSize,ba.shadowCameraNear=C.camera.near,ba.shadowCameraFar=C.camera.far,d.pointShadow[k]=ba,d.pointShadowMap[k]=P,d.pointShadowMatrix[k]=D.shadow.matrix,I++;d.point[k]=
L;k++}else D.isHemisphereLight&&(P=b.get(D),P.direction.setFromMatrixPosition(D.matrixWorld),P.direction.transformDirection(w),P.direction.normalize(),P.skyColor.copy(D.color).multiplyScalar(L),P.groundColor.copy(D.groundColor).multiplyScalar(L),d.hemi[F]=P,F++)}0<v&&(c.isWebGL2||!0===a.has("OES_texture_float_linear")?(d.rectAreaLTC1=K.LTC_FLOAT_1,d.rectAreaLTC2=K.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(d.rectAreaLTC1=K.LTC_HALF_1,d.rectAreaLTC2=K.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions."));
d.ambient[0]=x;d.ambient[1]=u;d.ambient[2]=q;m=d.hash;m.directionalLength===y&&m.pointLength===k&&m.spotLength===p&&m.rectAreaLength===v&&m.hemiLength===F&&m.numDirectionalShadows===z&&m.numPointShadows===I&&m.numSpotShadows===Y||(d.directional.length=y,d.spot.length=p,d.rectArea.length=v,d.point.length=k,d.hemi.length=F,d.directionalShadow.length=z,d.directionalShadowMap.length=z,d.pointShadow.length=I,d.pointShadowMap.length=I,d.spotShadow.length=Y,d.spotShadowMap.length=Y,d.directionalShadowMatrix.length=
z,d.pointShadowMatrix.length=I,d.spotShadowMatrix.length=Y,m.directionalLength=y,m.pointLength=k,m.spotLength=p,m.rectAreaLength=v,m.hemiLength=F,m.numDirectionalShadows=z,m.numPointShadows=I,m.numSpotShadows=Y,d.version=$c++)},state:d}}function Vb(a,c){var b=new Zc(a,c),e=[],d=[];return{init:function(){e.length=0;d.length=0},state:{lightsArray:e,shadowsArray:d,lights:b},setupLights:function(f){b.setup(e,d,f)},pushLight:function(){},pushShadow:function(){}}}function ad(a,c){var b=new WeakMap;return{get:function(e,
d){var f;return!1===b.has(e)?(f=new Vb(a,c),b.set(e,new WeakMap),b.get(e).set(d,f)):!1===b.get(e).has(d)?(f=new Vb(a,c),b.get(e).set(d,f)):f=b.get(e).get(d),f},dispose:function(){}}}function tb(){}function ub(){}function bd(a,c,b){new Ja;var e=new sa,d=new sa,f=new Ba;1;0;2;c=new Ta({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new sa},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"});
c.clone().defines.HORIZONAL_PASS=1;var g=new Ra;g.setAttribute("position",new wa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));new Za(g,c);var h=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(l){if(!1!==h.enabled&&(!1!==h.autoUpdate||!1!==h.needsUpdate)&&0!==l.length){var m=a.getRenderTarget(),x=a.getActiveCubeFace(),w=a.getActiveMipmapLevel(),u=a.state;u.setBlending(0);u.buffers.color.setClear(1,1,1,1);u.buffers.depth.setTest(!0);u.setScissorTest(!1);
for(var q=0,y=l.length;q<y;q++){var k=l[q],p=k.shadow;if(void 0!==p){if(!1!==p.autoUpdate||!1!==p.needsUpdate){e.copy(p.mapSize);var v=p.getFrameExtents();e.multiply(v);d.copy(p.mapSize);(e.x>b||e.y>b)&&(e.x>b&&(d.x=Math.floor(b/v.x),e.x=d.x*v.x,p.mapSize.x=d.x),e.y>b&&(d.y=Math.floor(b/v.y),e.y=d.y*v.y,p.mapSize.y=d.y));null!==p.map||p.isPointLightShadow||3!==this.type||(1006,1006,1023,p.map=new G(e.x,e.y),p.map.texture.name=k.name+".shadowMap",p.mapPass=new G(e.x,e.y),p.camera.updateProjectionMatrix());
null===p.map&&(1003,1003,1023,p.map=new G(e.x,e.y),p.map.texture.name=k.name+".shadowMap",p.camera.updateProjectionMatrix());a.setRenderTarget(p.map);a.clear();v=p.getViewportCount();for(var F=0;F<v;F++){var z=p.getViewport(F);f.set(d.x*z.x,d.y*z.y,d.x*z.z,d.y*z.w);u.viewport(f);p.updateMatrices(k,F);p.getFrustum();p.camera;this.type}p.isPointLightShadow||3!==this.type||p;p.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",k,"has no shadow.")}h.needsUpdate=!1;a.setRenderTarget(m,x,w)}}}function cd(a,
c,b){function e(r,Q,Z){var ja=new Uint8Array(4),Ca=a.createTexture();a.bindTexture(r,Ca);a.texParameteri(r,10241,9728);a.texParameteri(r,10240,9728);for(r=0;r<Z;r++)a.texImage2D(Q+r,0,6408,1,1,0,6408,5121,ja);return Ca}function d(r){!0!==y[r]&&(a.enable(r),y[r]=!0)}function f(r){!1!==y[r]&&(a.disable(r),y[r]=!1)}function g(r,Q,Z,ja,Ca,Fa,Ga,Na){if(0!==r)if(p||(d(3042),p=!0),5===r)Ca=Ca||Q,Fa=Fa||Z,Ga=Ga||ja,Q===F&&Ca===Y||(a.blendEquationSeparate(da[Q],da[Ca]),F=Q,Y=Ca),Z===z&&ja===I&&Fa===ea&&Ga===
fa||(a.blendFuncSeparate(N[Z],N[ja],N[Fa],N[Ga]),z=Z,I=ja,ea=Fa,fa=Ga),v=r,D=null;else{if(r!==v||Na!==D){if(100===F&&100===Y||(a.blendEquation(32774),F=100,Y=100),Na)switch(r){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",r)}else switch(r){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,1);break;
case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",r)}fa=ea=I=z=null;v=r;D=Na}}else p&&(f(3042),p=!1)}function h(r){C!==r&&(r?a.frontFace(2304):a.frontFace(2305),C=r)}function l(r){0!==r?(d(2884),r!==L&&(1===r?a.cullFace(1029):2===r?a.cullFace(1028):a.cullFace(1032))):f(2884);L=r}function m(r,Q,Z){r?(d(32823),ba===Q&&P===Z||(a.polygonOffset(Q,Z),ba=Q,P=Z)):f(32823)}function x(r){void 0===r&&(r=33984+aa-1);na!==r&&(a.activeTexture(r),
na=r)}b=b.isWebGL2;var w=new function(){var r=new Ba,Q=null,Z=new Ba(0,0,0,0);return{setMask:function(ja){Q!==ja&&(a.colorMask(ja,ja,ja,ja),Q=ja)},setLocked:function(){},setClear:function(ja,Ca,Fa,Ga,Na){!0===Na&&(ja*=Ga,Ca*=Ga,Fa*=Ga);r.set(ja,Ca,Fa,Ga);!1===Z.equals(r)&&(a.clearColor(ja,Ca,Fa,Ga),Z.copy(r))},reset:function(){}}},u=new function(){var r=null,Q=null,Z=null;return{setTest:function(ja){(ja?d:f)(2929)},setMask:function(ja){r!==ja&&(a.depthMask(ja),r=ja)},setFunc:function(ja){if(Q!==ja){if(ja)switch(ja){case 0:a.depthFunc(512);
break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);Q=ja}},setLocked:function(){},setClear:function(ja){Z!==ja&&(a.clearDepth(ja),Z=ja)},reset:function(){}}},q=new function(){var r=null;return{setTest:function(Q){(Q?d:f)(2960)},setMask:function(){},setFunc:function(){},setOp:function(){},setLocked:function(){},
setClear:function(Q){r!==Q&&(a.clearStencil(Q),r=Q)},reset:function(){}}},y={},k=null,p=null,v=null,F=null,z=null,I=null,Y=null,ea=null,fa=null,D=!1,C=null,L=null,ba=null,P=null,aa=a.getParameter(35661),ha=a.getParameter(7938);-1!==ha.indexOf("WebGL")?parseFloat(/^WebGL ([0-9])/.exec(ha)[1]):-1!==ha.indexOf("OpenGL ES")&&parseFloat(/^OpenGL ES ([0-9])/.exec(ha)[1]);var na=null,ma={},ca=new Ba,ia=new Ba,V={};V[3553]=e(3553,3553,1);V[34067]=e(34067,34069,6);w.setClear(0,0,0,1);u.setClear(1);q.setClear(0);
d(2929);u.setFunc(3);h(!1);l(1);d(2884);g(0);ha={};var da=(ha[100]=32774,ha[101]=32778,ha[102]=32779,ha);b?(da[103]=32775,da[104]=32776):null!==(c=c.get("EXT_blend_minmax"))&&(da[103]=c.MIN_EXT,da[104]=c.MAX_EXT);c={};var N=(c[200]=0,c[201]=1,c[202]=768,c[204]=770,c[210]=776,c[208]=774,c[206]=772,c[203]=769,c[205]=771,c[209]=775,c[207]=773,c);return{buffers:{color:w,depth:u,stencil:q},enable:d,disable:f,useProgram:function(r){return k!==r&&(a.useProgram(r),k=r,!0)},setBlending:g,setMaterial:function(r,
Q){(2===r.side?f:d)(2884);var Z=1===r.side;Q&&(Z=!Z);h(Z);1===r.blending&&!1===r.transparent?g(0):g(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.premultipliedAlpha);u.setFunc(r.depthFunc);u.setTest(r.depthTest);u.setMask(r.depthWrite);w.setMask(r.colorWrite);Q=r.stencilWrite;q.setTest(Q);Q&&(q.setMask(r.stencilWriteMask),q.setFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),q.setOp(r.stencilFail,r.stencilZFail,r.stencilZPass));m(r.polygonOffset,
r.polygonOffsetFactor,r.polygonOffsetUnits)},setFlipSided:h,setCullFace:l,setLineWidth:function(){},setPolygonOffset:m,setScissorTest:function(){},activeTexture:x,bindTexture:function(r,Q){null===na&&x();var Z=ma[na];void 0===Z&&(Z={type:void 0,texture:void 0},ma[na]=Z);Z.type===r&&Z.texture===Q||(a.bindTexture(r,Q||V[r]),Z.type=r,Z.texture=Q)},unbindTexture:function(){},compressedTexImage2D:function(){},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(r){console.error("THREE.WebGLState:",
r)}},texImage3D:function(){},scissor:function(r){!1===ca.equals(r)&&(a.scissor(r.x,r.y,r.z,r.w),ca.copy(r))},viewport:function(r){!1===ia.equals(r)&&(a.viewport(r.x,r.y,r.z,r.w),ia.copy(r))},reset:function(){}}}function dd(a,c,b,e,d,f,g){function h(I){return Ka.isPowerOfTwo(I.width)&&Ka.isPowerOfTwo(I.height)}function l(){}function m(I,Y){var ea=e.get(I);if(I.isVideoTexture,0<I.version&&ea.__version!==I.version){var fa=I.image;if(void 0===fa)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");
else{if(!1!==fa.complete)return void function(D,C,L){var ba=3553;C.isDataTexture2DArray&&(ba=35866);C.isDataTexture3D&&(ba=32879);void 0===(ia=D).__webglInit&&(ia.__webglInit=!0,C.addEventListener("dispose",l),ia.__webglTexture=a.createTexture(),g.memory.textures++);b.activeTexture(33984+L);b.bindTexture(ba,D.__webglTexture);a.pixelStorei(37440,C.flipY);a.pixelStorei(37441,C.premultiplyAlpha);a.pixelStorei(3317,C.unpackAlignment);var P,aa=(P=C,!x&&(1001!==P.wrapS||1001!==P.wrapT||1003!==P.minFilter&&
1006!==P.minFilter)&&!1===h(C.image));aa=h(L=function(N,r,Q){var Z=1;return((N.width>Q||N.height>Q)&&(Z=Q/Math.max(N.width,N.height)),1>Z||!0===r)?"undefined"!=typeof HTMLImageElement&&N instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&N instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&N instanceof ImageBitmap?(r=r?Ka.floorPowerOfTwo:Math.floor,Q=r(Z*N.width),r=r(Z*N.height),void 0===q&&(q=void 0),Z=q,Z.width=Q,Z.height=r,Z.getContext("2d").drawImage(N,0,0,Q,r),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+
N.width+"x"+N.height+") to ("+Q+"x"+r+")."),Z):("data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N):N}(C.image,aa,u))||x;var ha=f.convert(C.format),na=f.convert(C.type),ma=function(N,r,Q){if(!1===x)return r;if(null!==N){if(void 0!==a[N])return a[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}N=r;return 6403===r&&(5126===Q&&(N=33326),5131===Q&&(N=33325),5121===Q&&(N=33321)),6407===r&&(5126===
Q&&(N=34837),5131===Q&&(N=34843),5121===Q&&(N=32849)),6408===r&&(5126===Q&&(N=34836),5131===Q&&(N=34842),5121===Q&&(N=32856)),33325!==N&&33326!==N&&34842!==N&&34836!==N||c.get("EXT_color_buffer_float"),N}(C.internalFormat,ha,na);var ca=ba;ia=C;aa?(a.texParameteri(ca,10242,v[ia.wrapS]),a.texParameteri(ca,10243,v[ia.wrapT]),32879!==ca&&35866!==ca||a.texParameteri(ca,32882,v[ia.wrapR]),a.texParameteri(ca,10240,F[ia.magFilter]),a.texParameteri(ca,10241,F[ia.minFilter])):(a.texParameteri(ca,10242,33071),
a.texParameteri(ca,10243,33071),32879!==ca&&35866!==ca||a.texParameteri(ca,32882,33071),1001===ia.wrapS&&1001===ia.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(ca,10240,void 0),a.texParameteri(ca,10241,void 0),1003!==ia.minFilter&&1006!==ia.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
(P=c.get("EXT_texture_filter_anisotropic"))&&(1015===ia.type&&null===c.get("OES_texture_float_linear")||1016===ia.type&&null===(x||c.get("OES_texture_half_float_linear"))||(1<ia.anisotropy||e.get(ia).__currentAnisotropy)&&(a.texParameterf(ca,P.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ia.anisotropy,d.getMaxAnisotropy())),e.get(ia).__currentAnisotropy=ia.anisotropy));var ia;P=C.mipmaps;if(C.isDepthTexture)ma=6402,x?ma=1015===C.type?36012:1014===C.type?33190:1020===C.type?35056:33189:1015===C.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),
1026===C.format&&6402===ma&&1012!==C.type&&1014!==C.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),C.type=1012,na=f.convert(C.type)),1027===C.format&&6402===ma&&(ma=34041,1020!==C.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),C.type=1020,na=f.convert(C.type))),b.texImage2D(3553,0,ma,L.width,L.height,0,ha,na,null);else if(C.isDataTexture)if(0<P.length&&aa){for(var V=0,da=P.length;V<
da;V++)ca=P[V],b.texImage2D(3553,V,ma,ca.width,ca.height,0,ha,na,ca.data);C.generateMipmaps=!1;D.__maxMipLevel=P.length-1}else b.texImage2D(3553,0,ma,L.width,L.height,0,ha,na,L.data),D.__maxMipLevel=0;else if(C.isCompressedTexture){V=0;for(da=P.length;V<da;V++)ca=P[V],1023!==C.format&&1022!==C.format?null!==ha?b.compressedTexImage2D(3553,V,ma,ca.width,ca.height,0,ca.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):b.texImage2D(3553,
V,ma,ca.width,ca.height,0,ha,na,ca.data);D.__maxMipLevel=P.length-1}else if(C.isDataTexture2DArray)b.texImage3D(35866,0,ma,L.width,L.height,L.depth,0,ha,na,L.data),D.__maxMipLevel=0;else if(C.isDataTexture3D)b.texImage3D(32879,0,ma,L.width,L.height,L.depth,0,ha,na,L.data),D.__maxMipLevel=0;else if(0<P.length&&aa){V=0;for(da=P.length;V<da;V++)ca=P[V],b.texImage2D(3553,V,ma,ha,na,ca);C.generateMipmaps=!1;D.__maxMipLevel=P.length-1}else b.texImage2D(3553,0,ma,ha,na,L),D.__maxMipLevel=0;(ia=C).generateMipmaps&&
aa&&1003!==ia.minFilter&&1006!==ia.minFilter&&function(N,r,Q,Z){a.generateMipmap(N);e.get(r).__maxMipLevel=Math.log(Math.max(Q,Z))*Math.LOG2E}(ba,C,L.width,L.height);D.__version=C.version;C.onUpdate&&C.onUpdate(C)}(ea,I,Y);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}b.activeTexture(33984+Y);b.bindTexture(3553,ea.__webglTexture)}var x=d.isWebGL2,w=d.maxTextures;d.maxCubemapSize;var u=d.maxTextureSize;d.maxSamples;new WeakMap;var q;try{"undefined"!=typeof OffscreenCanvas&&
(new OffscreenCanvas(1,1)).getContext("2d")}catch(I){}var y=0,k={},p={},v=(k[1E3]=10497,k[1001]=33071,k[1002]=33648,k),F=(p[1003]=9728,p[1004]=9984,p[1005]=9986,p[1006]=9729,p[1007]=9985,p[1008]=9987,p),z=!1;this.allocateTextureUnit=function(){var I=y;return I>=w&&console.warn("THREE.WebGLTextures: Trying to use "+I+" texture units while this GPU supports only "+w),y+=1,I};this.resetTextureUnits=function(){y=0};this.setTexture2D=m;this.setTexture2DArray=function(){};this.setTexture3D=function(){};
this.setTextureCube=function(){};this.setupRenderTarget=function(){};this.updateRenderTargetMipmap=function(){};this.updateMultisampleRenderTarget=function(){};this.safeSetTexture2D=function(I,Y){I&&I.isWebGLRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),I=I.texture);m(I,Y)};this.safeSetTextureCube=function(){}}function ed(a,c,b){var e=b.isWebGL2;return{convert:function(d){var f;if(1009===
d)return 5121;if(1017===d)return 32819;if(1018===d)return 32820;if(1019===d)return 33635;if(1010===d)return 5120;if(1011===d)return 5122;if(1012===d)return 5123;if(1013===d)return 5124;if(1014===d)return 5125;if(1015===d)return 5126;if(1016===d)return e?5131:(f=c.get("OES_texture_half_float"),null!==f?f.HALF_FLOAT_OES:null);if(1021===d)return 6406;if(1022===d)return 6407;if(1023===d)return 6408;if(1024===d)return 6409;if(1025===d)return 6410;if(1026===d)return 6402;if(1027===d)return 34041;if(1028===
d)return 6403;if(1029===d)return 36244;if(1030===d)return 33319;if(1031===d)return 33320;if(1032===d)return 36248;if(1033===d)return 36249;if(33776===d||33777===d||33778===d||33779===d){if(f=c.get("WEBGL_compressed_texture_s3tc"),null===f)return null;if(33776===d)return f.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===d)return f.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===d)return f.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===d)return f.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===d||35841===d||35842===d||35843===
d){if(f=c.get("WEBGL_compressed_texture_pvrtc"),null===f)return null;if(35840===d)return f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===d)return f.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===d)return f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===d)return f.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===d)return f=c.get("WEBGL_compressed_texture_etc1"),null!==f?f.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===d||37496===d)&&(f=c.get("WEBGL_compressed_texture_etc"),null!==f)){if(37492===d)return f.COMPRESSED_RGB8_ETC2;
if(37496===d)return f.COMPRESSED_RGBA8_ETC2_EAC}return 37808===d||37809===d||37810===d||37811===d||37812===d||37813===d||37814===d||37815===d||37816===d||37817===d||37818===d||37819===d||37820===d||37821===d||37840===d||37841===d||37842===d||37843===d||37844===d||37845===d||37846===d||37847===d||37848===d||37849===d||37850===d||37851===d||37852===d||37853===d?(f=c.get("WEBGL_compressed_texture_astc"),null!==f?d:null):36492===d?(f=c.get("EXT_texture_compression_bptc"),null!==f?d:null):1020===d?e?34042:
(f=c.get("WEBGL_depth_texture"),null!==f?f.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function vb(a){Xa.call(this);this.cameras=a||[]}function fd(a,c){new Map;a=new Xa;a.layers.enable(1);a.viewport=new Ba;c=new Xa;c.layers.enable(2);c.viewport=new Ba;a;c;a=new vb;a.layers.enable(1);a.layers.enable(2);this.isPresenting=this.enabled=!1;this.getController=function(){};this.getControllerGrip=function(){};this.getHand=function(){};this.setFramebufferScaleFactor=function(){};this.setReferenceSpaceType=function(){};
this.getReferenceSpace=function(){};this.getSession=function(){return null};this.setSession=function(){};new W;new W;this.getCamera=function(){};(new Fb).setAnimationLoop(function(){});this.setAnimationLoop=function(){};this.dispose=function(){}}function gd(a){return{refreshFogUniforms:function(){},refreshMaterialUniforms:function(c,b){b.isMeshBasicMaterial||b.isMeshLambertMaterial||b.isMeshToonMaterial||b.isMeshPhongMaterial||(b.isMeshStandardMaterial?b.isMeshPhysicalMaterial:b.isMeshMatcapMaterial||
b.isMeshDepthMaterial||b.isMeshDistanceMaterial||b.isMeshNormalMaterial||(b.isLineBasicMaterial?b.isLineDashedMaterial:b.isPointsMaterial||b.isSpriteMaterial||(b.isShadowMaterial?(c.color.value.copy(b.color),c.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1))))}}}function wb(a,c,b,e,d,f,g,h,l){E.call(this,a,c,b,e,d,f,g,h,l);this.needsUpdate=!0}function db(){Object.defineProperty(this,"id",{value:hd+=2});this.uuid=Ka.generateUUID();this.name="";this.type="Geometry";this.vertices=
[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Wb(a){this.manager=void 0!==a?a:id;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader=
{}}function xb(a){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");Wb.call(this,a);this.options={premultiplyAlpha:"none"}}1023;Object.assign(t.prototype,{addEventListener:function(a,c){void 0===this._listeners&&(this._listeners={});var b=this._listeners;void 0===b[a]&&(b[a]=[]);-1===b[a].indexOf(c)&&b[a].push(c)},hasEventListener:function(){},
removeEventListener:function(){},dispatchEvent:function(a){if(void 0!==this._listeners){var c=this._listeners[a.type];if(void 0!==c){a.target=this;c=c.slice(0);for(var b=0,e=c.length;b<e;b++)c[b].call(this,a)}}}});for(var Da=[],eb=0;256>eb;eb++)Da[eb]=(16>eb?"0":"")+eb.toString(16);var Ka={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a=4294967295*Math.random()|0,c=4294967295*Math.random()|0,b=4294967295*Math.random()|0,e=4294967295*Math.random()|0;return(Da[255&a]+Da[a>>8&255]+
Da[a>>16&255]+Da[a>>24&255]+"-"+Da[255&c]+Da[c>>8&255]+"-"+Da[c>>16&15|64]+Da[c>>24&255]+"-"+Da[63&b|128]+Da[b>>8&255]+"-"+Da[b>>16&255]+Da[b>>24&255]+Da[255&e]+Da[e>>8&255]+Da[e>>16&255]+Da[e>>24&255]).toUpperCase()},isPowerOfTwo:function(a){return 0==(a&a-1)&&0!==a}},sa=function(a,c){a=void 0===a?0:a;c=void 0===c?0:c;Object.defineProperty(this,"isVector2",{value:!0});this.x=a;this.y=c};sa.prototype.clone=function(){return new this.constructor(this.x,this.y)};sa.prototype.fromBufferAttribute=function(a,
c,b){return void 0!==b&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=a.getX(c),this.y=a.getY(c),this};sa.prototype.rotateAround=function(){};sa.prototype.random=function(){};var za=function(){Object.defineProperty(this,"isMatrix3",{value:!0});this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};za.prototype.set=function(a,c,b,e,d,f,g,h,l){var m=this.elements;
return m[0]=a,m[1]=e,m[2]=g,m[3]=c,m[4]=d,m[5]=h,m[6]=b,m[7]=f,m[8]=l,this};za.prototype.clone=function(){return(new this.constructor).fromArray(this.elements)};za.prototype.setFromMatrix4=function(a){return a=a.elements,this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this};za.prototype.getInverse=function(a,c){void 0!==c&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var b=a.elements;c=this.elements;var e=b[0],d=b[1],f=b[2],g=b[3],h=b[4],
l=b[5],m=b[6],x=b[7];b=b[8];var w=b*h-l*x,u=l*m-b*g,q=x*g-h*m,y=e*w+d*u+f*q;return 0==y?this.set(0,0,0,0,0,0,0,0,0):(a=1/y,c[0]=w*a,c[1]=(f*x-b*d)*a,c[2]=(l*d-f*h)*a,c[3]=u*a,c[4]=(b*e-f*m)*a,c[5]=(f*g-l*e)*a,c[6]=q*a,c[7]=(d*m-x*e)*a,c[8]=(h*e-d*g)*a,this)};za.prototype.transpose=function(){var a,c=this.elements;return a=c[1],c[1]=c[3],c[3]=a,a=c[2],c[2]=c[6],c[6]=a,a=c[5],c[5]=c[7],c[7]=a,this};za.prototype.getNormalMatrix=function(a){return this.setFromMatrix4(a).getInverse(this).transpose()};
za.prototype.fromArray=function(a,c){c=void 0===c?0:c;for(var b=0;9>b;b++)this.elements[b]=a[b+c];return this};za.prototype.toArray=function(){};var gc=0;E.DEFAULT_IMAGE=void 0;E.DEFAULT_MAPPING=300;E.prototype=Object.assign(Object.create(t.prototype),{constructor:E,isTexture:!0,updateMatrix:function(){},clone:function(){},copy:function(){},toJSON:function(){},dispose:function(){},transformUv:function(){}});Object.defineProperty(E.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
var Ba=function(a,c,b,e){a=void 0===a?0:a;c=void 0===c?0:c;b=void 0===b?0:b;e=void 0===e?1:e;Object.defineProperty(this,"isVector4",{value:!0});this.x=a;this.y=c;this.z=b;this.w=e};Ba.prototype.set=function(a,c,b,e){return this.x=a,this.y=c,this.z=b,this.w=e,this};Ba.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=void 0!==a.w?a.w:1,this};Ba.prototype.multiplyScalar=function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this};Ba.prototype.floor=function(){return this.x=
Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this};Ba.prototype.equals=function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w};$jscomp.global.Object.defineProperties(Ba.prototype,{width:{configurable:!0,enumerable:!0,get:function(){}},height:{configurable:!0,enumerable:!0,get:function(){}}});G.prototype=Object.assign(Object.create(t.prototype),{constructor:G,isWebGLRenderTarget:!0,setSize:function(){},clone:function(){},copy:function(){},
dispose:function(){}});S.prototype=Object.assign(Object.create(G.prototype),{constructor:S,isWebGLMultisampleRenderTarget:!0,copy:function(){}});var Ya=function(a,c,b,e){a=void 0===a?0:a;c=void 0===c?0:c;b=void 0===b?0:b;e=void 0===e?1:e;Object.defineProperty(this,"isQuaternion",{value:!0});this._x=a;this._y=c;this._z=b;this._w=e};Ya.prototype.setFromEuler=function(a,c){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
var b=a._x,e=a._y,d=a._z;a=a._order;var f=Math.cos,g=Math.sin,h=f(b/2),l=f(e/2);f=f(d/2);b=g(b/2);e=g(e/2);d=g(d/2);switch(a){case "XYZ":this._x=b*l*f+h*e*d;this._y=h*e*f-b*l*d;this._z=h*l*d+b*e*f;this._w=h*l*f-b*e*d;break;case "YXZ":this._x=b*l*f+h*e*d;this._y=h*e*f-b*l*d;this._z=h*l*d-b*e*f;this._w=h*l*f+b*e*d;break;case "ZXY":this._x=b*l*f-h*e*d;this._y=h*e*f+b*l*d;this._z=h*l*d+b*e*f;this._w=h*l*f-b*e*d;break;case "ZYX":this._x=b*l*f-h*e*d;this._y=h*e*f+b*l*d;this._z=h*l*d-b*e*f;this._w=h*l*f+
b*e*d;break;case "YZX":this._x=b*l*f+h*e*d;this._y=h*e*f+b*l*d;this._z=h*l*d-b*e*f;this._w=h*l*f-b*e*d;break;case "XZY":this._x=b*l*f-h*e*d;this._y=h*e*f-b*l*d;this._z=h*l*d+b*e*f;this._w=h*l*f+b*e*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==c&&this._onChangeCallback(),this};Ya.prototype._onChange=function(a){return this._onChangeCallback=a,this};Ya.prototype._onChangeCallback=function(){};var W=function(a,c,b){a=void 0===a?0:a;c=void 0===
c?0:c;b=void 0===b?0:b;Object.defineProperty(this,"isVector3",{value:!0});this.x=a;this.y=c;this.z=b};W.prototype.set=function(a,c,b){return void 0===b&&(b=this.z),this.x=a,this.y=c,this.z=b,this};W.prototype.clone=function(){return new this.constructor(this.x,this.y,this.z)};W.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this};W.prototype.addVectors=function(a,c){return this.x=a.x+c.x,this.y=a.y+c.y,this.z=a.z+c.z,this};W.prototype.subVectors=function(a,c){return this.x=a.x-
c.x,this.y=a.y-c.y,this.z=a.z-c.z,this};W.prototype.multiplyScalar=function(a){return this.x*=a,this.y*=a,this.z*=a,this};W.prototype.applyMatrix3=function(a){var c=this.x,b=this.y,e=this.z;a=a.elements;return this.x=a[0]*c+a[3]*b+a[6]*e,this.y=a[1]*c+a[4]*b+a[7]*e,this.z=a[2]*c+a[5]*b+a[8]*e,this};W.prototype.applyNormalMatrix=function(){};W.prototype.applyMatrix4=function(a){var c=this.x,b=this.y,e=this.z,d=a.elements;a=1/(d[3]*c+d[7]*b+d[11]*e+d[15]);return this.x=(d[0]*c+d[4]*b+d[8]*e+d[12])*
a,this.y=(d[1]*c+d[5]*b+d[9]*e+d[13])*a,this.z=(d[2]*c+d[6]*b+d[10]*e+d[14])*a,this};W.prototype.divideScalar=function(a){return this.multiplyScalar(1/a)};W.prototype.min=function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this};W.prototype.max=function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this};W.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};W.prototype.length=function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)};W.prototype.normalize=function(){return this.divideScalar(this.length()||1)};W.prototype.cross=function(a,c){return void 0!==c?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,c)):this.crossVectors(this,a)};W.prototype.crossVectors=function(a,c){var b=a.x,e=a.y,d=a.z,f=c.x;a=c.y;c=c.z;return this.x=e*c-d*a,this.y=d*f-b*c,this.z=b*a-e*f,this};W.prototype.distanceToSquared=function(a){var c=
this.x-a.x,b=this.y-a.y;return c*c+b*b+(a=this.z-a.z)*a};W.prototype.setFromMatrixPosition=function(a){return a=a.elements,this.x=a[12],this.y=a[13],this.z=a[14],this};W.prototype.fromBufferAttribute=function(a,c,b){return void 0!==b&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=a.getX(c),this.y=a.getY(c),this.z=a.getZ(c),this};new W;new Ya;var $a=function(a,c){Object.defineProperty(this,"isBox3",{value:!0});this.min=void 0!==a?a:new W(1/0,1/0,1/0);this.max=
void 0!==c?c:new W(-1/0,-1/0,-1/0)};$a.prototype.setFromPoints=function(a){this.makeEmpty();for(var c=0,b=a.length;c<b;c++)this.expandByPoint(a[c]);return this};$a.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this};$a.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z};$a.prototype.getCenter=function(a){return void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),
a=new W),this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)};$a.prototype.expandByPoint=function(a){return this.min.min(a),this.max.max(a),this};var jd=new $a,Va=function(a,c){this.center=void 0!==a?a:new W;this.radius=void 0!==c?c:-1};Va.prototype.setFromPoints=function(a,c){var b=this.center;void 0!==c?b.copy(c):jd.setFromPoints(a).getCenter(b);for(var e=c=0,d=a.length;e<d;e++)c=Math.max(c,b.distanceToSquared(a[e]));return this.radius=Math.sqrt(c),this};Va.prototype.clone=
function(){return(new this.constructor).copy(this)};Va.prototype.copy=function(a){return this.center.copy(a.center),this.radius=a.radius,this};Va.prototype.applyMatrix4=function(a){return this.center.applyMatrix4(a),this.radius*=a.getMaxScaleOnAxis(),this};Va.prototype.translate=function(){};Va.prototype.equals=function(){};new W;new W;new W;new W;new W;new W;new W;var ya=function(){Object.defineProperty(this,"isMatrix4",{value:!0});this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&
console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};ya.prototype.copy=function(a){var c=this.elements;return a=a.elements,c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],this};ya.prototype.multiplyMatrices=function(a,c){var b=a.elements,e=c.elements,d=this.elements,f=b[0],g=b[4],h=b[8],l=b[12],m=b[1],x=b[5],w=b[9],u=b[13],q=b[2],y=
b[6],k=b[10],p=b[14],v=b[3],F=b[7],z=b[11],I=b[15],Y=e[0],ea=e[4],fa=e[8],D=e[12],C=e[1],L=e[5],ba=e[9],P=e[13],aa=e[2],ha=e[6],na=e[10],ma=e[14];a=e[3];c=e[7];b=e[11];e=e[15];return d[0]=f*Y+g*C+h*aa+l*a,d[4]=f*ea+g*L+h*ha+l*c,d[8]=f*fa+g*ba+h*na+l*b,d[12]=f*D+g*P+h*ma+l*e,d[1]=m*Y+x*C+w*aa+u*a,d[5]=m*ea+x*L+w*ha+u*c,d[9]=m*fa+x*ba+w*na+u*b,d[13]=m*D+x*P+w*ma+u*e,d[2]=q*Y+y*C+k*aa+p*a,d[6]=q*ea+y*L+k*ha+p*c,d[10]=q*fa+y*ba+k*na+p*b,d[14]=q*D+y*P+k*ma+p*e,d[3]=v*Y+F*C+z*aa+I*a,d[7]=v*ea+F*L+z*ha+
I*c,d[11]=v*fa+F*ba+z*na+I*b,d[15]=v*D+F*P+z*ma+I*e,this};ya.prototype.determinant=function(){var a=this.elements,c=a[0],b=a[4],e=a[8],d=a[12],f=a[1],g=a[5],h=a[9],l=a[13],m=a[2],x=a[6],w=a[10],u=a[14];return a[3]*(+d*h*x-e*l*x-d*g*w+b*l*w+e*g*u-b*h*u)+a[7]*(+c*h*u-c*l*w+d*f*w-e*f*u+e*l*m-d*h*m)+a[11]*(+c*l*x-c*g*u-d*f*x+b*f*u+d*g*m-b*l*m)+a[15]*(-e*g*m-c*h*x+c*g*w+e*f*x-b*f*w+b*h*m)};ya.prototype.getInverse=function(a,c){void 0!==c&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");
c=this.elements;var b=a.elements,e=b[0],d=b[1],f=b[2],g=b[3],h=b[4],l=b[5],m=b[6],x=b[7],w=b[8],u=b[9],q=b[10],y=b[11],k=b[12],p=b[13],v=b[14];b=b[15];var F=u*v*x-p*q*x+p*m*y-l*v*y-u*m*b+l*q*b,z=k*q*x-w*v*x-k*m*y+h*v*y+w*m*b-h*q*b,I=w*p*x-k*u*x+k*l*y-h*p*y-w*l*b+h*u*b,Y=k*u*m-w*p*m-k*l*q+h*p*q+w*l*v-h*u*v;return 0==(a=e*F+d*z+f*I+g*Y)?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(a=1/a,c[0]=F*a,c[1]=(p*q*g-u*v*g-p*f*y+d*v*y+u*f*b-d*q*b)*a,c[2]=(l*v*g-p*m*g+p*f*x-d*v*x-l*f*b+d*m*b)*a,c[3]=(u*m*g-l*q*
g-u*f*x+d*q*x+l*f*y-d*m*y)*a,c[4]=z*a,c[5]=(w*v*g-k*q*g+k*f*y-e*v*y-w*f*b+e*q*b)*a,c[6]=(k*m*g-h*v*g-k*f*x+e*v*x+h*f*b-e*m*b)*a,c[7]=(h*q*g-w*m*g+w*f*x-e*q*x-h*f*y+e*m*y)*a,c[8]=I*a,c[9]=(k*u*g-w*p*g-k*d*y+e*p*y+w*d*b-e*u*b)*a,c[10]=(h*p*g-k*l*g+k*d*x-e*p*x-h*d*b+e*l*b)*a,c[11]=(w*l*g-h*u*g-w*d*x+e*u*x+h*d*y-e*l*y)*a,c[12]=Y*a,c[13]=(w*p*f-k*u*f+k*d*q-e*p*q-w*d*v+e*u*v)*a,c[14]=(k*l*f-h*p*f-k*d*m+e*p*m+h*d*v-e*l*v)*a,c[15]=(h*u*f-w*l*f+w*d*m-e*u*m-h*d*q+e*l*q)*a,this)};ya.prototype.getMaxScaleOnAxis=
function(){var a=(c=this.elements)[0]*c[0]+c[1]*c[1]+c[2]*c[2],c=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(a,c[4]*c[4]+c[5]*c[5]+c[6]*c[6],c))};ya.prototype.compose=function(a,c,b){var e=this.elements,d=c._x,f=c._y,g=c._z,h=c._w,l=d*(w=d+d),m=d*(u=f+f),x=d*(q=g+g);c=f*u;d=f*q;f=g*q;g=h*w;var w=h*u,u=h*q;h=b.x;var q=b.y;b=b.z;return e[0]=(1-(c+f))*h,e[1]=(m+u)*h,e[2]=(x-w)*h,e[3]=0,e[4]=(m-u)*q,e[5]=(1-(l+f))*q,e[6]=(d+g)*q,e[7]=0,e[8]=(x+w)*b,e[9]=(d-g)*b,e[10]=(1-(l+c))*b,e[11]=0,
e[12]=a.x,e[13]=a.y,e[14]=a.z,e[15]=1,this};ya.prototype.makePerspective=function(a,c,b,e,d,f){void 0===f&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var g=this.elements,h=2*d/(b-e);b=(b+e)/(b-e);return g[0]=2*d/(c-a),g[4]=0,g[8]=(c+a)/(c-a),g[12]=0,g[1]=0,g[5]=h,g[9]=b,g[13]=0,g[2]=0,g[6]=0,g[10]=-(f+d)/(f-d),g[14]=-2*f*d/(f-d),g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this};ya.prototype.makeOrthographic=function(a,c,b,e,d,f){var g=this.elements,
h=1/(c-a),l=1/(b-e),m=1/(f-d);return g[0]=2*h,g[4]=0,g[8]=0,g[12]=-((c+a)*h),g[1]=0,g[5]=2*l,g[9]=0,g[13]=-((b+e)*l),g[2]=0,g[6]=0,g[10]=-2*m,g[14]=-((f+d)*m),g[3]=0,g[7]=0,g[11]=0,g[15]=1,this};new W;new ya;new W(0,0,0);new W(1,1,1);new W;new W;new W;var Wa=function(a,c,b,e){a=void 0===a?0:a;c=void 0===c?0:c;b=void 0===b?0:b;e=void 0===e?Wa.DefaultOrder:e;Object.defineProperty(this,"isEuler",{value:!0});this._x=a;this._y=c;this._z=b;this._order=e};Wa.prototype._onChange=function(a){return this._onChangeCallback=
a,this};Wa.prototype._onChangeCallback=function(){};$jscomp.global.Object.defineProperties(Wa.prototype,{z:{configurable:!0,enumerable:!0,set:function(a){this._z=a;this._onChangeCallback()}}});Wa.DefaultOrder="XYZ";Wa.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");new ya;new Ya;var lb=function(){this.mask=1};lb.prototype.enable=function(a){this.mask=this.mask|1<<a|0};lb.prototype.test=function(a){return 0!=(this.mask&a.mask)};var hc=0,kd={type:"added"};T.DefaultUp=new W(0,1,0);T.DefaultMatrixAutoUpdate=
!0;T.prototype=Object.assign(Object.create(t.prototype),{constructor:T,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},add:function(a){if(1<arguments.length){for(var c=0;c<arguments.length;c++)this.add(arguments[c]);return this}return a===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",a):a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),(a.parent=this).children.push(a),a.dispatchEvent(kd)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a),this},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();(this.matrixWorldNeedsUpdate||a)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),a=!(this.matrixWorldNeedsUpdate=!1));for(var c=this.children,b=0,e=c.length;b<e;b++)c[b].updateMatrixWorld(a)}});new za;var Ma=function(a,c){Object.defineProperty(this,
"isPlane",{value:!0});this.normal=void 0!==a?a:new W(1,0,0);this.constant=void 0!==c?c:0};Ma.prototype.setComponents=function(a,c,b,e){return this.normal.set(a,c,b),this.constant=e,this};Ma.prototype.normalize=function(){var a=1/this.normal.length();return this.normal.multiplyScalar(a),this.constant*=a,this};Ma.prototype.distanceToPoint=function(a){return this.normal.dot(a)+this.constant};var ta=function(a,c,b){return Object.defineProperty(this,"isColor",{value:!0}),void 0===c&&void 0===b?this.set(a):
this.setRGB(a,c,b)};ta.prototype.set=function(a){return a&&a.isColor?this.copy(a):"number"==typeof a?this.setHex(a):"string"==typeof a&&this.setStyle(a),this};ta.prototype.setHex=function(a){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,this.b=(255&a)/255,this};ta.prototype.setRGB=function(a,c,b){return this.r=a,this.g=c,this.b=b,this};ta.prototype.clone=function(){return new this.constructor(this.r,this.g,this.b)};ta.prototype.copy=function(a){return this.r=a.r,this.g=a.g,this.b=
a.b,this};ta.prototype.r=1;ta.prototype.g=1;ta.prototype.b=1;var Xb=function(a,c,b,e,d,f){this.a=a;this.b=c;this.c=b;this.normal=e&&e.isVector3?e:new W;this.vertexNormals=Array.isArray(e)?e:[];this.color=d&&d.isColor?d:new ta;this.vertexColors=Array.isArray(d)?d:[];this.materialIndex=void 0!==f?f:0},ic=0;qa.prototype=Object.assign(Object.create(t.prototype),{constructor:qa,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(a){if(void 0!==
a)for(var c in a){var b=a[c];if(void 0!==b)if("shading"!==c){var e=this[c];void 0!==e?e&&e.isColor?e.set(b):e&&e.isVector3&&b&&b.isVector3?e.copy(b):this[c]=b:console.warn("THREE."+this.type+": '"+c+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===b;else console.warn("THREE.Material: '"+c+"' parameter is undefined.")}},toJSON:function(){},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.name=a.name;this.fog=a.fog;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=
a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;var c=a.clippingPlanes,b=null;if(null!==c){var e=c.length;b=Array(e);for(var d=0;d!==e;++d)b[d]=c[d].clone()}return this.clippingPlanes=b,this.clipIntersection=a.clipIntersection,this.clipShadows=a.clipShadows,this.shadowSide=a.shadowSide,this.colorWrite=
a.colorWrite,this.precision=a.precision,this.polygonOffset=a.polygonOffset,this.polygonOffsetFactor=a.polygonOffsetFactor,this.polygonOffsetUnits=a.polygonOffsetUnits,this.dithering=a.dithering,this.alphaTest=a.alphaTest,this.premultipliedAlpha=a.premultipliedAlpha,this.visible=a.visible,this.toneMapped=a.toneMapped,this.userData=JSON.parse(JSON.stringify(a.userData)),this},dispose:function(){}});Object.defineProperty(qa.prototype,"needsUpdate",{set:function(){}});((va.prototype=Object.create(qa.prototype)).constructor=
va).prototype.isMeshBasicMaterial=!0;va.prototype.copy=function(){};new W;new sa;Object.defineProperty(wa.prototype,"needsUpdate",{set:function(){}});Object.assign(wa.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(){},copy:function(){},copyAt:function(){},copyArray:function(){},copyColorsArray:function(a){for(var c=this.array,b=0,e=0,d=a.length;e<d;e++){var f=a[e];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),f=new ta);
c[b++]=f.r;c[b++]=f.g;c[b++]=f.b}return this},copyVector2sArray:function(a){for(var c=this.array,b=0,e=0,d=a.length;e<d;e++){var f=a[e];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),f=new sa);c[b++]=f.x;c[b++]=f.y}return this},copyVector3sArray:function(a){for(var c=this.array,b=0,e=0,d=a.length;e<d;e++){var f=a[e];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",e),f=new W);c[b++]=f.x;c[b++]=f.y;c[b++]=f.z}return this},
getX:function(a){return this.array[a*this.itemSize]},getY:function(a){return this.array[a*this.itemSize+1]},getZ:function(a){return this.array[a*this.itemSize+2]}});(O.prototype=Object.create(wa.prototype)).constructor=O;(M.prototype=Object.create(wa.prototype)).constructor=M;(U.prototype=Object.create(wa.prototype)).constructor=U;(la.prototype=Object.create(wa.prototype)).constructor=la;Ha.prototype=Object.create(wa.prototype);Ha.prototype.constructor=Ha;(Cb.prototype=Object.create(wa.prototype)).constructor=
Cb;hb.prototype=Object.create(wa.prototype);hb.prototype.constructor=hb;(Ia.prototype=Object.create(wa.prototype)).constructor=Ia;(Db.prototype=Object.create(wa.prototype)).constructor=Db;var yb=function(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=
!1};yb.prototype.computeGroups=function(a){var c=[],b,e=void 0,d=a.faces;for(a=0;a<d.length;a++){var f=d[a];f.materialIndex!==e&&(e=f.materialIndex,void 0!==b&&(b.count=3*a-b.start,c.push(b)),b={start:3*a,materialIndex:e})}void 0!==b&&(b.count=3*a-b.start,c.push(b));this.groups=c};yb.prototype.fromGeometry=function(a){var c=a.faces,b=a.vertices,e=a.faceVertexUvs,d=e[0]&&0<e[0].length,f=e[1]&&0<e[1].length,g=a.morphTargets,h=g.length;if(0<h){var l=[];for(var m=0;m<h;m++)l[m]={name:g[m].name,data:[]};
this.morphTargets.position=l}m=a.morphNormals;var x=m.length;if(0<x){var w=[];for(var u=0;u<x;u++)w[u]={name:m[u].name,data:[]};this.morphTargets.normal=w}u=a.skinIndices;var q=a.skinWeights,y=u.length===b.length,k=q.length===b.length;0<b.length&&0===c.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var p=0;p<c.length;p++){var v=c[p];this.vertices.push(b[v.a],b[v.b],b[v.c]);var F=v.vertexNormals;3===F.length?this.normals.push(F[0],F[1],F[2]):(I=v.normal,this.normals.push(I,
I,I));var z,I=v.vertexColors;3===I.length?this.colors.push(I[0],I[1],I[2]):(I=v.color,this.colors.push(I,I,I));!0===d&&(void 0!==(z=e[0][p])?this.uvs.push(z[0],z[1],z[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",p),this.uvs.push(new sa,new sa,new sa)));!0===f&&(void 0!==(z=e[1][p])?this.uvs2.push(z[0],z[1],z[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",p),this.uvs2.push(new sa,new sa,new sa)));for(F=0;F<h;F++){var Y=g[F].vertices;l[F].data.push(Y[v.a],
Y[v.b],Y[v.c])}for(F=0;F<x;F++)Y=m[F].vertexNormals[p],w[F].data.push(Y.a,Y.b,Y.c);y&&this.skinIndices.push(u[v.a],u[v.b],u[v.c]);k&&this.skinWeights.push(q[v.a],q[v.b],q[v.c])}return this.computeGroups(a),this.verticesNeedUpdate=a.verticesNeedUpdate,this.normalsNeedUpdate=a.normalsNeedUpdate,this.colorsNeedUpdate=a.colorsNeedUpdate,this.uvsNeedUpdate=a.uvsNeedUpdate,this.groupsNeedUpdate=a.groupsNeedUpdate,null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone()),null!==a.boundingBox&&
(this.boundingBox=a.boundingBox.clone()),this};var jc=1;Ra.prototype=Object.assign(Object.create(t.prototype),{constructor:Ra,isBufferGeometry:!0,getIndex:function(){},setIndex:function(a){if(Array.isArray(a)){if(0===a.length)var c=-1/0;else{c=a[0];for(var b=1,e=a.length;b<e;++b)a[b]>c&&(c=a[b])}this.index=new (65535<c?hb:Ha)(a,1)}else this.index=a;return this},setAttribute:function(a,c){return this.attributes[a]=c,this},setFromObject:function(a){var c=a.geometry;if(a.isPoints||a.isLine){a=new Ia(3*
c.vertices.length,3);var b=new Ia(3*c.colors.length,3);if(this.setAttribute("position",a.copyVector3sArray(c.vertices)),this.setAttribute("color",b.copyColorsArray(c.colors)),c.lineDistances&&c.lineDistances.length===c.vertices.length)a=new Ia(c.lineDistances.length,1),this.setAttribute("lineDistance",a.copyArray(c.lineDistances));null!==c.boundingSphere&&(this.boundingSphere=c.boundingSphere.clone());null!==c.boundingBox&&(this.boundingBox=c.boundingBox.clone())}else a.isMesh&&c&&c.isGeometry&&this.fromGeometry(c);
return this},setFromPoints:function(){},updateFromObject:function(a){var c=a.geometry;if(a.isMesh){var b=c.__directGeometry;if(!0===c.elementsNeedUpdate&&(b=void 0,c.elementsNeedUpdate=!1),void 0===b)return this.fromGeometry(c);b.verticesNeedUpdate=c.verticesNeedUpdate;b.normalsNeedUpdate=c.normalsNeedUpdate;b.colorsNeedUpdate=c.colorsNeedUpdate;b.uvsNeedUpdate=c.uvsNeedUpdate;b.groupsNeedUpdate=c.groupsNeedUpdate;c.verticesNeedUpdate=!1;c.normalsNeedUpdate=!1;c.colorsNeedUpdate=!1;c.uvsNeedUpdate=
!1;c.groupsNeedUpdate=!1;c=b}!0===c.verticesNeedUpdate&&(b=this.attributes.position,void 0!==b&&(b.copyVector3sArray(c.vertices),b.needsUpdate=!0),c.verticesNeedUpdate=!1);!0===c.normalsNeedUpdate&&(b=this.attributes.normal,void 0!==b&&(b.copyVector3sArray(c.normals),b.needsUpdate=!0),c.normalsNeedUpdate=!1);!0===c.colorsNeedUpdate&&(b=this.attributes.color,void 0!==b&&(b.copyColorsArray(c.colors),b.needsUpdate=!0),c.colorsNeedUpdate=!1);c.uvsNeedUpdate&&(b=this.attributes.uv,void 0!==b&&(b.copyVector2sArray(c.uvs),
b.needsUpdate=!0),c.uvsNeedUpdate=!1);c.lineDistancesNeedUpdate&&(b=this.attributes.lineDistance,void 0!==b&&(b.copyArray(c.lineDistances),b.needsUpdate=!0),c.lineDistancesNeedUpdate=!1);return c.groupsNeedUpdate&&(c.computeGroups(a.geometry),this.groups=c.groups,c.groupsNeedUpdate=!1),this},fromGeometry:function(a){return a.__directGeometry=(new yb).fromGeometry(a),this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var c,b,e=new Float32Array(3*a.vertices.length);this.setAttribute("position",
(new wa(e,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(c=new Float32Array(3*a.normals.length),this.setAttribute("normal",(new wa(c,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(c=new Float32Array(3*a.colors.length),this.setAttribute("color",(new wa(c,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.setAttribute("uv",(new wa(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.setAttribute("uv2",(new wa(b,
2)).copyVector2sArray(a.uvs2)));this.groups=a.groups;for(var d in a.morphTargets){c=[];b=a.morphTargets[d];e=0;for(var f=b.length;e<f;e++){var g=b[e],h=new Ia(3*g.data.length,3);h.name=g.name;c.push(h.copyVector3sArray(g.data))}this.morphAttributes[d]=c}0<a.skinIndices.length&&(d=new Ia(4*a.skinIndices.length,4),this.setAttribute("skinIndex",d.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(d=new Ia(4*a.skinWeights.length,4),this.setAttribute("skinWeight",d.copyVector4sArray(a.skinWeights)));
return null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone()),null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone()),this}});Za.prototype=Object.assign(Object.create(T.prototype),{constructor:Za,isMesh:!0,copy:function(){},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var c=Object.keys(a);if(0<c.length&&(a=a[c[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};c=0;for(var b=a.length;c<b;c++){var e=a[c].name||
String(c);this.morphTargetInfluences.push(0);this.morphTargetDictionary[e]=c}}}else void 0!==(a=a.morphTargets)&&0<a.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(){}});var Gb=function(){return Ra.apply(this,arguments)||this};$jscomp.inherits(Gb,Ra);var Sc={clone:bb,merge:Ea};((Ta.prototype=Object.create(qa.prototype)).constructor=Ta).prototype.isShaderMaterial=!0;Ta.prototype.copy=function(a){return qa.prototype.copy.call(this,
a),this.fragmentShader=a.fragmentShader,this.vertexShader=a.vertexShader,this.uniforms=bb(a.uniforms),this.defines=Object.assign({},a.defines),this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.lights=a.lights,this.clipping=a.clipping,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.morphNormals=a.morphNormals,this.extensions=Object.assign({},a.extensions),this.glslVersion=a.glslVersion,this};Ta.prototype.toJSON=function(){};ib.prototype=Object.assign(Object.create(T.prototype),
{constructor:ib,isCamera:!0,updateMatrixWorld:function(a){T.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){}});Xa.prototype=Object.assign(Object.create(ib.prototype),{constructor:Xa,isPerspectiveCamera:!0,updateProjectionMatrix:function(){var a=this.near,c=a*Math.tan(.5*Ka.DEG2RAD*this.fov)/this.zoom,b=2*c,e=this.aspect*b,d=-.5*e,f,g=this.view;null!==this.view&&this.view.enabled&&(f=g.fullWidth,h=g.fullHeight,d+=g.offsetX*e/f,c-=g.offsetY*
b/h,e*=g.width/f,b*=g.height/h);var h=this.filmOffset;0!==h&&(d+=a*h/this.getFilmWidth());this.projectionMatrix.makePerspective(d,d+e,c,c-b,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(){}});(Eb.prototype=Object.create(T.prototype)).constructor=Eb;((jb.prototype=Object.create(E.prototype)).constructor=jb).prototype.isCubeTexture=!0;Object.defineProperty(jb.prototype,"images",{get:function(){},set:function(){}});((cb.prototype=Object.create(G.prototype)).constructor=
cb).prototype.isWebGLCubeRenderTarget=!0;cb.prototype.fromEquirectangularTexture=function(){};cb.prototype.clear=function(){};((mb.prototype=Object.create(E.prototype)).constructor=mb).prototype.isDataTexture=!0;var Yb=new Va;new W;var Ja=function(a,c,b,e,d,f){this.planes=[void 0!==a?a:new Ma,void 0!==c?c:new Ma,void 0!==b?b:new Ma,void 0!==e?e:new Ma,void 0!==d?d:new Ma,void 0!==f?f:new Ma]};Ja.prototype.set=function(){};Ja.prototype.clone=function(){};Ja.prototype.copy=function(){};Ja.prototype.setFromProjectionMatrix=
function(a){var c=this.planes,b=(p=a.elements)[0],e=p[1],d=p[2],f=p[3],g=p[4],h=p[5],l=p[6],m=p[7],x=p[8],w=p[9],u=p[10],q=p[11],y=p[12],k=p[13];a=p[14];var p=p[15];return c[0].setComponents(f-b,m-g,q-x,p-y).normalize(),c[1].setComponents(f+b,m+g,q+x,p+y).normalize(),c[2].setComponents(f+e,m+h,q+w,p+k).normalize(),c[3].setComponents(f-e,m-h,q-w,p-k).normalize(),c[4].setComponents(f-d,m-l,q-u,p-a).normalize(),c[5].setComponents(f+d,m+l,q+u,p+a).normalize(),this};Ja.prototype.intersectsObject=function(a){var c=
a.geometry;return null===c.boundingSphere&&c.computeBoundingSphere(),Yb.copy(c.boundingSphere).applyMatrix4(a.matrixWorld),this.intersectsSphere(Yb)};Ja.prototype.intersectsSprite=function(){};Ja.prototype.intersectsSphere=function(a){var c=this.planes,b=a.center;a=-a.radius;for(var e=0;6>e;e++)if(c[e].distanceToPoint(b)<a)return!1;return!0};Ja.prototype.intersectsBox=function(){};Ja.prototype.containsPoint=function(){};var nb=function(a,c,b,e){var d=Ra.call(this)||this;d.type="PlaneBufferGeometry";
d.parameters={width:a,height:c,widthSegments:b,heightSegments:e};var f=(a=a||1)/2,g=(c=c||1)/2;b=Math.floor(b)||1;e=Math.floor(e)||1;var h=b+1,l=e+1,m=a/b,x=c/e;c=[];a=[];for(var w=[],u=[],q=0;q<l;q++)for(var y=q*x-g,k=0;k<h;k++)a.push(k*m-f,-y,0),w.push(0,0,1),u.push(k/b),u.push(1-q/e);for(f=0;f<e;f++)for(g=0;g<b;g++)l=g+h*(f+1),m=g+1+h*(f+1),x=g+1+h*f,c.push(g+h*f,l,x),c.push(l,m,x);d.setIndex(c);d.setAttribute("position",new Ia(a,3));d.setAttribute("normal",new Ia(w,3));d.setAttribute("uv",new Ia(u,
2));return d};$jscomp.inherits(nb,Ra);var ka={encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif"},
K={common:{diffuse:{value:new ta(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new za},uv2Transform:{value:new za},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},
bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new sa(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new ta(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],
properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],
properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ta(15658734)},opacity:{value:1},
size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new za}},sprite:{diffuse:{value:new ta(15658734)},opacity:{value:1},center:{value:new sa(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new za}}},La={basic:{uniforms:Ea([K.common,K.specularmap,K.envmap,K.aomap,K.lightmap,K.fog]),vertexShader:ka.meshbasic_vert,fragmentShader:ka.meshbasic_frag},lambert:{uniforms:Ea([K.common,K.specularmap,K.envmap,K.aomap,K.lightmap,K.emissivemap,
K.fog,K.lights,{emissive:{value:new ta(0)}}]),vertexShader:ka.meshlambert_vert,fragmentShader:ka.meshlambert_frag},phong:{uniforms:Ea([K.common,K.specularmap,K.envmap,K.aomap,K.lightmap,K.emissivemap,K.bumpmap,K.normalmap,K.displacementmap,K.fog,K.lights,{emissive:{value:new ta(0)},specular:{value:new ta(1118481)},shininess:{value:30}}]),vertexShader:ka.meshphong_vert,fragmentShader:ka.meshphong_frag},standard:{uniforms:Ea([K.common,K.envmap,K.aomap,K.lightmap,K.emissivemap,K.bumpmap,K.normalmap,
K.displacementmap,K.roughnessmap,K.metalnessmap,K.fog,K.lights,{emissive:{value:new ta(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ka.meshphysical_vert,fragmentShader:ka.meshphysical_frag},toon:{uniforms:Ea([K.common,K.aomap,K.lightmap,K.emissivemap,K.bumpmap,K.normalmap,K.displacementmap,K.gradientmap,K.fog,K.lights,{emissive:{value:new ta(0)}}]),vertexShader:ka.meshtoon_vert,fragmentShader:ka.meshtoon_frag},matcap:{uniforms:Ea([K.common,K.bumpmap,K.normalmap,
K.displacementmap,K.fog,{matcap:{value:null}}]),vertexShader:ka.meshmatcap_vert,fragmentShader:ka.meshmatcap_frag},points:{uniforms:Ea([K.points,K.fog]),vertexShader:ka.points_vert,fragmentShader:ka.points_frag},dashed:{uniforms:Ea([K.common,K.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ka.linedashed_vert,fragmentShader:ka.linedashed_frag},depth:{uniforms:Ea([K.common,K.displacementmap]),vertexShader:ka.depth_vert,fragmentShader:ka.depth_frag},normal:{uniforms:Ea([K.common,
K.bumpmap,K.normalmap,K.displacementmap,{opacity:{value:1}}]),vertexShader:ka.normal_vert,fragmentShader:ka.normal_frag},sprite:{uniforms:Ea([K.sprite,K.fog]),vertexShader:ka.sprite_vert,fragmentShader:ka.sprite_frag},background:{uniforms:{uvTransform:{value:new za},t2D:{value:null}},vertexShader:ka.background_vert,fragmentShader:ka.background_frag},cube:{uniforms:Ea([K.envmap,{opacity:{value:1}}]),vertexShader:ka.cube_vert,fragmentShader:ka.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},
vertexShader:ka.equirect_vert,fragmentShader:ka.equirect_frag},distanceRGBA:{uniforms:Ea([K.common,K.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:ka.distanceRGBA_vert,fragmentShader:ka.distanceRGBA_frag},shadow:{uniforms:Ea([K.lights,K.fog,{color:{value:new ta(0)},opacity:{value:1}}]),vertexShader:ka.shadow_vert,fragmentShader:ka.shadow_frag}};La.physical={uniforms:Ea([La.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},
clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new sa(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ta(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ka.meshphysical_vert,fragmentShader:ka.meshphysical_frag};((ob.prototype=Object.create(E.prototype)).constructor=ob).prototype.isDataTexture2DArray=!0;((pb.prototype=Object.create(E.prototype)).constructor=pb).prototype.isDataTexture3D=!0;var Fc=new E;new ob;new pb;new jb;
var Hb=new Float32Array(16);new Float32Array(9);new Float32Array(4);Ib.prototype.updateCache=function(){};Jb.prototype.setValue=function(){};var sb=/([\w\d_]+)(\])?(\[|\.)?/g;Ua.prototype.setValue=function(a,c,b,e){c=this.map[c];void 0!==c&&c.setValue(a,b,e)};Ua.prototype.setOptional=function(){};Ua.upload=function(a,c,b,e){for(var d=0,f=c.length;d!==f;++d){var g=c[d],h=b[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,e)}};Ua.seqWithValue=function(a,c){for(var b=[],e=0,d=a.length;e!==d;++e){var f=
a[e];f.id in c&&b.push(f)}return b};var Qc=0,Rb=/^[ \t]*#include +<([\w\d./]+)>/gm,Tb=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Sb=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g,$c=0;((tb.prototype=Object.create(qa.prototype)).constructor=tb).prototype.isMeshDepthMaterial=!0;tb.prototype.copy=function(){};((ub.prototype=Object.create(qa.prototype)).constructor=
ub).prototype.isMeshDistanceMaterial=!0;ub.prototype.copy=function(){};vb.prototype=Object.assign(Object.create(Xa.prototype),{constructor:vb,isArrayCamera:!0});var Zb=function(){var a=T.call(this)||this;Object.defineProperty(a,"isScene",{value:!0});a.type="Scene";a.background=null;a.environment=null;a.fog=null;a.overrideMaterial=null;a.autoUpdate=!0;"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:a}));return a};$jscomp.inherits(Zb,T);((wb.prototype=
Object.create(E.prototype)).constructor=wb).prototype.isCanvasTexture=!0;var hd=0;db.prototype=Object.assign(Object.create(t.prototype),{constructor:db,isGeometry:!0,fromBufferGeometry:function(a){function c(q,y,k,p){var v=void 0===h?[]:[b.colors[q].clone(),b.colors[y].clone(),b.colors[k].clone()],F=void 0===g?[]:[(new W).fromBufferAttribute(g,q),(new W).fromBufferAttribute(g,y),(new W).fromBufferAttribute(g,k)];p=new Xb(q,y,k,F,v,p);b.faces.push(p);void 0!==l&&b.faceVertexUvs[0].push([(new sa).fromBufferAttribute(l,
q),(new sa).fromBufferAttribute(l,y),(new sa).fromBufferAttribute(l,k)]);void 0!==m&&b.faceVertexUvs[1].push([(new sa).fromBufferAttribute(m,q),(new sa).fromBufferAttribute(m,y),(new sa).fromBufferAttribute(m,k)])}var b=this,e=null!==a.index?a.index:void 0,d=a.attributes;if(void 0===d.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var f=d.position,g=d.normal,h=d.color,l=d.uv,m=d.uv2;void 0!==m&&(this.faceVertexUvs[1]=[]);for(d=
0;d<f.count;d++)b.vertices.push((new W).fromBufferAttribute(f,d)),void 0!==h&&b.colors.push((new ta).fromBufferAttribute(h,d));d=a.groups;if(0<d.length)for(f=0;f<d.length;f++){var x=d[f],w=x.start,u=w;for(w+=x.count;u<w;u+=3)void 0!==e?c(e.getX(u),e.getX(u+1),e.getX(u+2),x.materialIndex):c(u,u+1,u+2,x.materialIndex)}else if(void 0!==e)for(d=0;d<e.count;d+=3)c(e.getX(d),e.getX(d+1),e.getX(d+2));else for(e=0;e<f.count;e+=3)c(e,e+1,e+2);return this.computeFaceNormals(),null!==a.boundingBox&&(this.boundingBox=
a.boundingBox.clone()),null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone()),this},computeFaceNormals:function(){for(var a=new W,c=new W,b=0,e=this.faces.length;b<e;b++){var d=this.faces[b],f=this.vertices[d.a],g=this.vertices[d.b];a.subVectors(this.vertices[d.c],g);c.subVectors(f,g);a.cross(c);a.normalize();d.normal.copy(a)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Va);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,
c,b){if(a&&a.isGeometry){var e,d=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,l=a.faces,m=this.colors,x=a.colors;void 0===b&&(b=0);void 0!==c&&(e=(new za).getNormalMatrix(c));for(var w=0,u=g.length;w<u;w++){var q=g[w].clone();void 0!==c&&q.applyMatrix4(c);f.push(q)}c=0;for(f=x.length;c<f;c++)m.push(x[c].clone());m=0;for(x=l.length;m<x;m++){c=l[m];u=c.vertexNormals;f=c.vertexColors;g=new Xb(c.a+d,c.b+d,c.c+d);g.normal.copy(c.normal);void 0!==e&&g.normal.applyMatrix3(e).normalize();
q=0;for(var y=u.length;q<y;q++)w=u[q].clone(),void 0!==e&&w.applyMatrix3(e).normalize(),g.vertexNormals.push(w);g.color.copy(c.color);u=0;for(q=f.length;u<q;u++)w=f[u],g.vertexColors.push(w.clone());g.materialIndex=c.materialIndex+b;h.push(g)}b=0;for(e=a.faceVertexUvs.length;b<e;b++)for(d=a.faceVertexUvs[b],void 0===this.faceVertexUvs[b]&&(this.faceVertexUvs[b]=[]),h=0,l=d.length;h<l;h++){m=d[h];x=[];c=0;for(f=m.length;c<f;c++)x.push(m[c].clone());this.faceVertexUvs[b].push(x)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a)},mergeVertices:function(){for(var a={},c=[],b=[],e=Math.pow(10,4),d=0,f=this.vertices.length;d<f;d++){var g=this.vertices[d];g=Math.round(g.x*e)+"_"+Math.round(g.y*e)+"_"+Math.round(g.z*e);void 0===a[g]?(a[g]=d,c.push(this.vertices[d]),b[d]=c.length-1):b[d]=b[a[g]]}a=[];e=0;for(d=this.faces.length;e<d;e++)for(f=this.faces[e],f.a=b[f.a],f.b=b[f.b],f.c=b[f.c],f=[f.a,f.b,f.c],g=0;3>g;g++)if(f[g]===f[(g+1)%3]){a.push(e);break}for(b=a.length-1;0<=b;b--)for(e=a[b],this.faces.splice(e,1),d=0,f=this.faceVertexUvs.length;d<
f;d++)this.faceVertexUvs[d].splice(e,1);b=this.vertices.length-c.length;return this.vertices=c,b}});var $b=function(a,c,b,e){var d=db.call(this)||this;d.type="PlaneGeometry";d.parameters={width:a,height:c,widthSegments:b,heightSegments:e};d.fromBufferGeometry(new nb(a,c,b,e));d.mergeVertices();return d};$jscomp.inherits($b,db);var ac={enabled:!1,files:{},add:function(a,c){!1!==this.enabled&&(this.files[a]=c)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(){},clear:function(){}},
id=new function(){var a=this,c=!1,b=0,e=0;this.onError=this.onProgress=this.onLoad=this.onStart=void 0;this.itemStart=function(d){e++;!1===c&&void 0!==a.onStart&&a.onStart(d,b,e);c=!0};this.itemEnd=function(d){b++;void 0!==a.onProgress&&a.onProgress(d,b,e);b===e&&(c=!1,void 0!==a.onLoad&&a.onLoad())};this.itemError=function(){};this.resolveURL=function(d){return d};this.setURLModifier=function(){};this.addHandler=function(){};this.removeHandler=function(){};this.getHandler=function(){}};xb.prototype=
Object.assign(Object.create(Wb.prototype),{constructor:xb,isImageBitmapLoader:!0,setOptions:function(){},load:function(a,c){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var b=this,e=ac.get(a);if(void 0!==e)return b.manager.itemStart(a),setTimeout(function(){},0),e;e={};e.credentials="anonymous"===this.crossOrigin?"same-origin":"include";fetch(a,e).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,b.options)}).then(function(d){ac.add(a,
d);c&&c(d);b.manager.itemEnd(a)}).catch(function(){});b.manager.itemStart(a)}});return{WebGLRenderer:function(a){function c(A,H){for(var B=0;B<A.length;B++){var R=A[B];if(null!==(R=h.getContext(R,H)))return R}return null}function b(){}function e(A,H,B){for(var R=!0===H.isScene?H.overrideMaterial:null,X=0,oa=A.length;X<oa;X++){var ua=A[X],ra=ua.object,pa=ua.geometry,J=null===R?ua.material:R;ua=ua.group;if(B.isArrayCamera)for(var Aa=(ea=B).cameras,xa=0,Oa=Aa.length;xa<Oa;xa++){var ab=Aa[xa];ra.layers.test(ab.layers)&&
(N.viewport(fa.copy(ab.viewport)),F.setupLights(ab),d(ra,H,ab,pa,J,ua))}else ea=null,d(ra,H,B,pa,J,ua)}}function d(A,H,B,R,X,oa){A.onBeforeRender(z,H,B,R,X,oa);F=zb.get(H,ea||B);A.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,A.matrixWorld);A.normalMatrix.getNormalMatrix(A.modelViewMatrix);A.isImmediateRenderObject?(g(B,H,X,A),N.setMaterial(X),Fa.reset()):z.renderBufferDirect(B,H,R,X,A,oa);A.onAfterRender(z,H,B,R,X,oa);F=zb.get(H,ea||B)}function f(A,H,B){!0!==H.isScene&&(H=ia);var R=Q.get(A),
X=F.state.lights,oa=F.state.shadowsArray,ua=X.state.version,ra=fb.getParameters(A,X.state,oa,H,B);oa=fb.getProgramCacheKey(ra);var pa=R.program,J=!0;if(void 0===pa)A.addEventListener("dispose",b);else if(pa.cacheKey===oa){if(R.lightsStateVersion===ua&&void 0!==ra.shaderID)return B=A.isMeshStandardMaterial?H.environment:null,R.envMap=ja.get(A.envMap||B),0;J=!1}J&&(ra.uniforms=fb.getUniforms(A),A.onBeforeCompile(ra,z),pa=fb.acquireProgram(ra,oa),R.program=pa,R.uniforms=ra.uniforms,R.outputEncoding=
ra.outputEncoding);B=R.uniforms;(A.isShaderMaterial||A.isRawShaderMaterial)&&!0!==A.clipping||(R.numClippingPlanes=Pa.numPlanes,R.numIntersection=Pa.numIntersection,B.clippingPlanes=Pa.uniform);R.environment=A.isMeshStandardMaterial?H.environment:null;R.fog=H.fog;R.envMap=ja.get(A.envMap||R.environment);R.needsLights=A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&!0===A.lights;R.lightsStateVersion=ua;R.needsLights&&
(B.ambientLightColor.value=X.state.ambient,B.lightProbe.value=X.state.probe,B.directionalLights.value=X.state.directional,B.directionalLightShadows.value=X.state.directionalShadow,B.spotLights.value=X.state.spot,B.spotLightShadows.value=X.state.spotShadow,B.rectAreaLights.value=X.state.rectArea,B.ltc_1.value=X.state.rectAreaLTC1,B.ltc_2.value=X.state.rectAreaLTC2,B.pointLights.value=X.state.point,B.pointLightShadows.value=X.state.pointShadow,B.hemisphereLights.value=X.state.hemi,B.directionalShadowMap.value=
X.state.directionalShadowMap,B.directionalShadowMatrix.value=X.state.directionalShadowMatrix,B.spotShadowMap.value=X.state.spotShadowMap,B.spotShadowMatrix.value=X.state.spotShadowMatrix,B.pointShadowMap.value=X.state.pointShadowMap,B.pointShadowMatrix.value=X.state.pointShadowMatrix);X=R.program.getUniforms();X=Ua.seqWithValue(X.seq,B);R.uniformsList=X}function g(A,H,B,R){!0!==H.isScene&&(H=ia);Z.resetTextureUnits();var X=H.fog,oa=B.isMeshStandardMaterial?H.environment:null,ua=z.outputEncoding,ra=
ja.get(B.envMap||oa),pa=Q.get(B),J,Aa=F.state.lights;!0===ha&&(!0!==na&&A===Y||(J=A===Y&&B.id===I,Pa.setState(B,A,J)));B.version===pa.__version?(B.fog&&pa.fog!==X||pa.environment!==oa||pa.needsLights&&pa.lightsStateVersion!==Aa.state.version||void 0!==pa.numClippingPlanes&&(pa.numClippingPlanes!==Pa.numPlanes||pa.numIntersection!==Pa.numIntersection)||pa.outputEncoding!==ua||pa.envMap!==ra)&&f(B,H,R):(f(B,H,R),pa.__version=B.version);ua=oa=H=!1;ra=pa.program;J=ra.getUniforms();Aa=pa.uniforms;if(N.useProgram(ra.program)&&
(H=!0,oa=!0,ua=!0),B.id!==I&&(I=B.id,oa=!0),H||Y!==A){if(J.setValue(V,"projectionMatrix",A.projectionMatrix),da.logarithmicDepthBuffer&&J.setValue(V,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),Y!==A&&(Y=A,oa=!0,ua=!0),B.isShaderMaterial||B.isMeshPhongMaterial||B.isMeshToonMaterial||B.isMeshStandardMaterial||B.envMap)H=J.map.cameraPosition,void 0!==H&&H.setValue(V,ca.setFromMatrixPosition(A.matrixWorld));(B.isMeshPhongMaterial||B.isMeshToonMaterial||B.isMeshLambertMaterial||B.isMeshBasicMaterial||
B.isMeshStandardMaterial||B.isShaderMaterial)&&J.setValue(V,"isOrthographic",!0===A.isOrthographicCamera);(B.isMeshPhongMaterial||B.isMeshToonMaterial||B.isMeshLambertMaterial||B.isMeshBasicMaterial||B.isMeshStandardMaterial||B.isShaderMaterial||B.isShadowMaterial||B.skinning)&&J.setValue(V,"viewMatrix",A.matrixWorldInverse)}if(B.skinning){J.setOptional(V,R,"bindMatrix");J.setOptional(V,R,"bindMatrixInverse");var xa=R.skeleton;if(xa)if(H=xa.bones,da.floatVertexTextures){if(void 0===xa.boneTexture){A=
Math.sqrt(4*H.length);A=Ka.ceilPowerOfTwo(A);A=Math.max(A,4);var Oa=new Float32Array(A*A*4);Oa.set(xa.boneMatrices);H=new mb(Oa,1023,1015);xa.boneMatrices=Oa;xa.boneTexture=H;xa.boneTextureSize=A}J.setValue(V,"boneTexture",xa.boneTexture,Z);J.setValue(V,"boneTextureSize",xa.boneTextureSize)}else J.setOptional(V,xa,"boneMatrices")}return!oa&&pa.receiveShadow===R.receiveShadow||(pa.receiveShadow=R.receiveShadow,J.setValue(V,"receiveShadow",R.receiveShadow)),oa&&(J.setValue(V,"toneMappingExposure",z.toneMappingExposure),
pa.needsLights&&ua,X&&B.fog&&bc.refreshFogUniforms(Aa,X),bc.refreshMaterialUniforms(Aa,B,1,L),Ua.upload(V,pa.uniformsList,Aa,Z)),B.isShaderMaterial&&!0===B.uniformsNeedUpdate&&(Ua.upload(V,pa.uniformsList,Aa,Z),B.uniformsNeedUpdate=!1),B.isSpriteMaterial&&J.setValue(V,"center",R.center),J.setValue(V,"modelViewMatrix",R.modelViewMatrix),J.setValue(V,"normalMatrix",R.normalMatrix),J.setValue(V,"modelMatrix",R.matrixWorld),ra}var h=void 0!==(a=a||{}).canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml",
"canvas"),l=void 0!==a.context?a.context:null,m=void 0!==a.alpha&&a.alpha,x=void 0===a.depth||a.depth,w=void 0===a.stencil||a.stencil,u=void 0!==a.antialias&&a.antialias,q=void 0===a.premultipliedAlpha||a.premultipliedAlpha,y=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,k=void 0!==a.powerPreference?a.powerPreference:"default",p=void 0!==a.failIfMajorPerformanceCaveat&&a.failIfMajorPerformanceCaveat,v=null,F=null;this.domElement=h;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=
this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.outputEncoding=3E3;this.physicallyCorrectLights=!1;this.toneMapping=0;this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var z=this,I=-1,Y=null,ea=null,fa=new Ba,D=new Ba,C=h.width,L=h.height,ba=new Ba(0,0,C,L),P=new Ba(0,0,C,L),aa=new Ja,ha=!1,na=!1,ma=new ya,ca=new W,ia={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},
V=l;try{l={alpha:m,depth:x,stencil:w,antialias:u,premultipliedAlpha:q,preserveDrawingBuffer:y,powerPreference:k,failIfMajorPerformanceCaveat:p};if(h.addEventListener("webglcontextlost",function(){},!1),h.addEventListener("webglcontextrestored",function(){},!1),null===V)if(m=["webgl2","webgl","experimental-webgl"],!0===z.isWebGL1Renderer&&m.shift(),V=c(m,l),null===V)throw c(m)?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");void 0===V.getShaderPrecisionFormat&&
(V.getShaderPrecisionFormat=function(){})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A;}l=new rc(V);var da=new oc(V,l,a);!1===da.isWebGL2&&(l.get("WEBGL_depth_texture"),l.get("OES_texture_float"),l.get("OES_texture_half_float"),l.get("OES_texture_half_float_linear"),l.get("OES_standard_derivatives"),l.get("OES_element_index_uint"),l.get("OES_vertex_array_object"),l.get("ANGLE_instanced_arrays"));l.get("OES_texture_float_linear");a=new ed(V,l,da);var N=new cd(V,l,da);N.scissor(D.copy(P).multiplyScalar(1).floor());
N.viewport(fa.copy(ba).multiplyScalar(1).floor());var r=new uc(V);var Q=new Tc;var Z=new dd(V,l,N,Q,da,a,r);var ja=new qc(z);var Ca=new kc(V,da);var Fa=new mc(V,l,Ca,da);var Ga=new sc(V,Ca,r,Fa);var Na=new wc(V,Ga,Ca,r);var ld=new vc(V);var Pa=new pc(Q);var fb=new Rc(z,ja,l,da,Fa,Pa);var bc=new gd(Q);var cc=new Wc(Q);var zb=new ad(l,da);var md=new lc(z,ja,N,Na,q);var nd=new nc(V,l,r,da);var od=new tc(V,l,r,da);r.programs=fb.programs;z.capabilities=da;z.extensions=l;z.properties=Q;z.renderLists=cc;
z.state=N;z.info=r;var gb=new fd(z,V);this.xr=gb;var dc=new bd(z,Na,da.maxTextureSize);this.shadowMap=dc;this.getContext=function(){return V};this.setSize=function(A,H,B){gb.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=A,L=H,h.width=Math.floor(1*A),h.height=Math.floor(1*H),!1!==B&&(h.style.width=A+"px",h.style.height=H+"px"),this.setViewport(0,0,A,H))};this.setViewport=function(A,H,B,R){A.isVector4?ba.set(A.x,A.y,A.z,A.w):ba.set(A,H,B,R);N.viewport(fa.copy(ba).multiplyScalar(1).floor())};
this.clear=function(A,H,B){var R=0;void 0!==A&&!A||(R|=16384);void 0!==H&&!H||(R|=256);void 0!==B&&!B||(R|=1024);V.clear(R)};this.renderBufferDirect=function(A,H,B,R,X,oa){null===H&&(H=ia);var ua=X.isMesh&&0>X.matrixWorld.determinant(),ra=g(A,H,R,X);N.setMaterial(R,ua);H=B.index;if(A=B.attributes.position,null===H){if(void 0===A||0===A.count)return}else if(0===H.count)return;var pa=1;!0===R.wireframe&&(H=Ga.getWireframeAttribute(B),pa=2);(R.morphTargets||R.morphNormals)&&ld.update(X,B,R,ra);Fa.setup(X,
R,ra,B,H);var J=nd;null!==H&&(Aa=Ca.get(H),J=od,J.setIndex(Aa));H=(null!==H?H:A).count;ua=B.drawRange.start*pa;ra=B.drawRange.count*pa;var Aa=null!==oa?oa.start*pa:0;A=null!==oa?oa.count*pa:1/0;oa=Math.max(ua,Aa);A=Math.min(H,ua+ra,Aa+A)-1;0!==(A=Math.max(0,A-oa+1))&&(X.isMesh?!0===R.wireframe?(N.setLineWidth(NaN*R.wireframeLinewidth),J.setMode(1)):J.setMode(4):X.isLine?(R=R.linewidth,void 0===R&&(R=1),N.setLineWidth(NaN*R),X.isLineSegments?J.setMode(1):X.isLineLoop?J.setMode(2):J.setMode(3)):X.isPoints?
J.setMode(0):X.isSprite&&J.setMode(4),X.isInstancedMesh?J.renderInstances(oa,A,X.count):B.isInstancedBufferGeometry?(B=Math.min(B.instanceCount,B._maxInstanceCount),J.renderInstances(oa,A,B)):J.render(oa,A))};this.compile=function(){};q=new Fb;q.setAnimationLoop(function(){});"undefined"!=typeof window&&q.setContext(window);this.render=function(A,H,B,R){var X,oa,ua,ra;void 0!==B&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),
X=B);void 0!==R&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),oa=R);void 0===H||!0===H.isCamera?(Fa.resetDefaultState(),I=-1,!(Y=null)===A.autoUpdate&&A.updateMatrixWorld(),null===H.parent&&H.updateMatrixWorld(),!0===gb.enabled&&!0===gb.isPresenting&&(H=gb.getCamera(H)),!0===A.isScene&&A.onBeforeRender(z,A,H,X||null),F=zb.get(A,H),F.init(),ma.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),aa.setFromProjectionMatrix(ma),na=
this.localClippingEnabled,ha=Pa.init(this.clippingPlanes,na,H),v=cc.get(A,H),v.init(),function ab(J,Aa,xa,Oa){if(!1!==J.visible){var Qa,Sa;if(J.layers.test(Aa.layers))if(J.isGroup)xa=J.renderOrder;else if(J.isLOD)!0===J.autoUpdate&&J.update(Aa);else if(J.isLight)F.pushLight(J),J.castShadow&&F.pushShadow(J);else if(J.isSprite)J.frustumCulled&&!aa.intersectsSprite(J)||(Oa&&ca.setFromMatrixPosition(J.matrixWorld).applyMatrix4(ma),Qa=Na.update(J),(Sa=J.material).visible&&v.push(J,Qa,Sa,xa,ca.z,null));
else if(J.isImmediateRenderObject)Oa&&ca.setFromMatrixPosition(J.matrixWorld).applyMatrix4(ma),v.push(J,null,J.material,xa,ca.z,null);else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==r.render.frame&&(J.skeleton.update(),J.skeleton.frame=r.render.frame),!J.frustumCulled||aa.intersectsObject(J)))if(Oa&&ca.setFromMatrixPosition(J.matrixWorld).applyMatrix4(ma),Qa=Na.update(J),Sa=J.material,Array.isArray(Sa))for(var ec=Qa.groups,Ab=0,pd=ec.length;Ab<pd;Ab++){var fc=ec[Ab],
Bb=Sa[fc.materialIndex];Bb&&Bb.visible&&v.push(J,Qa,Bb,xa,ca.z,fc)}else Sa.visible&&v.push(J,Qa,Sa,xa,ca.z,null);J=J.children;Qa=0;for(Sa=J.length;Qa<Sa;Qa++)ab(J[Qa],Aa,xa,Oa)}}(A,H,0,z.sortObjects),v.finish(),!0===z.sortObjects&&v.sort(null,null),!0===ha&&Pa.beginShadows(),ra=F.state.shadowsArray,dc.render(ra,A,H),F.setupLights(H),!0===ha&&Pa.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==X&&this.setRenderTarget(X),md.render(v,A,H,oa),ua=v.opaque,ra=v.transparent,0<ua.length&&
e(ua,A,H),0<ra.length&&e(ra,A,H),!0===A.isScene&&A.onAfterRender(z,A,H),N.buffers.depth.setTest(!0),N.buffers.depth.setMask(!0),N.buffers.color.setMask(!0),N.setPolygonOffset(!1),v=null,F=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")};this.getRenderTarget=function(){return null}},PerspectiveCamera:Xa,ImageBitmapLoader:xb,CanvasTexture:wb,LinearFilter:1006,LinearMipMapLinearFilter:1008,Fog:function(a,c,b){Object.defineProperty(this,"isFog",{value:!0});
this.name="";this.color=new ta(a);this.near=void 0!==c?c:1;this.far=void 0!==b?b:1E3},ShaderMaterial:Ta,Mesh:Za,PlaneGeometry:$b,Geometry:db,Scene:Zb}};
