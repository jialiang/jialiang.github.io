'use strict';function initThreeJS(){function W(a,b,c,d,e,f,h,l,n,m){Object.defineProperty(this,"id",{value:zb++});this.uuid=ia.generateUUID();this.name="";this.image=void 0!==a?a:W.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:W.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==e?e:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==n?n:1;this.format=void 0!==h?h:1023;this.internalFormat=null;this.type=void 0!==l?l:1009;this.offset=
new ba(0,0);this.repeat=new ba(1,1);this.center=new ba(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new ja;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}function Ga(){}function ib(){}function X(){Object.defineProperty(this,"id",{value:Ab++});this.uuid=ia.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=X.DefaultUp.clone();const a=new Q,b=new Ha,
c=new Bb,d=new Q(1,1,1);b._onChange(function(){c.setFromEuler(b,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new la},normalMatrix:{value:new ja}});this.matrix=new la;this.matrixWorld=new la;this.matrixAutoUpdate=X.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Cb;this.visible=
!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}function ma(){Object.defineProperty(this,"id",{value:Db++});this.uuid=ia.generateUUID();this.name="";this.type="Material";this.fog=!0;this.blending=1;this.side=0;this.vertexColors=this.flatShading=!1;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=
!0;this.clippingPlanes=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.toneMapped=this.visible=!0;this.userData={};this.version=0}function wa(a){ma.call(this);this.type="MeshBasicMaterial";this.color=new R(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;
this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.setValues(a)}function S(a,b,c){Array.isArray(a);this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0}function Ua(){}function Va(){}function Wa(){}function Xa(){}function Ia(a,b,c){S.call(this,new Uint16Array(a),b,c)}function Ya(){}function Ja(){}function ra(a,b,c){S.call(this,new Float32Array(a),
b,c)}function Za(){}function sa(){Object.defineProperty(this,"id",{value:Eb+=2});this.uuid=ia.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}function $a(a,b){X.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new sa;this.material=void 0!==b?b:new wa}function jb(a){const b={};for(const c in a){b[c]={};for(const d in a[c]){const e=a[c][d];
e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}function V(a){const b={};for(let c=0;c<a.length;c++){const d=jb(a[c]);for(const e in d)b[e]=d[e]}return b}function na(a){ma.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&this.setValues(a)}function Ka(){X.call(this);this.type="Camera";this.matrixWorldInverse=new la;this.projectionMatrix=new la;this.projectionMatrixInverse=new la}function oa(a,
b,c,d){Ka.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}function ab(){}function La(){}function Ma(){}function Na(){}function Fb(a,b){const c=new WeakMap;return{get:function(d){d.isInterleavedBufferAttribute&&(d=d.data);return c.get(d)},update:function(d,e){d.isInterleavedBufferAttribute&&(d=d.data);
if(void 0===c.get(d)){var f=c.set,h=d;const l=d.array,n=d.usage,m=a.createBuffer();a.bindBuffer(e,m);a.bufferData(e,l,n);e=5126;l instanceof Float32Array&&(e=5126);f.call(c,h,{buffer:m,type:e,bytesPerElement:l.BYTES_PER_ELEMENT,version:d.version})}}}}function Gb(a,b,c,d,e){const f=new R(0);return{render:function(h,l,n,m){h=!0===l.isScene?l.background:null;l=a.xr;l.getSession&&l.getSession();null===h&&c.buffers.color.setClear(f.r,f.g,f.b,0,e);(a.autoClear||m)&&a.clear(a.autoClearColor,a.autoClearDepth)}}}
function Hb(a,b,c,d){function e(p){const g=[],t=[],z=[];for(let C=0;C<n;C++)g[C]=0,t[C]=0,z[C]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:g,enabledAttributes:t,attributeDivisors:z,object:p,attributes:{},index:null}}function f(){const p=k.newAttributes;for(let g=0,t=p.length;g<t;g++)p[g]=0}function h(p){const g=k.enabledAttributes;k.newAttributes[p]=1;0===g[p]&&(a.enableVertexAttribArray(p),g[p]=1)}function l(){const p=k.enabledAttributes;for(let g=0,t=p.length;g<t;g++);}const n=
a.getParameter(34921),m=d.isWebGL2?null:b.get("OES_vertex_array_object"),r=d.isWebGL2||null!==m,v={},u=e(null);let k=u;return{setup:function(p,g,t,z,C){p=!1;if(r){p=!0===g.wireframe;var A=v[z.id];void 0===A&&(A={},v[z.id]=A);g=A[t.id];void 0===g&&(g={},A[t.id]=g);A=g[p];void 0===A&&(A=e(d.isWebGL2?a.createVertexArray():m.createVertexArrayOES()),g[p]=A);p=A;k!==p&&(k=p,p=k.object,d.isWebGL2?a.bindVertexArray(p):m.bindVertexArrayOES(p));a:if(p=k.attributes,g=z.attributes,Object.keys(p).length!==Object.keys(g).length)p=
!0;else{for(var F in g){A=p[F];const M=g[F];if(void 0===A||A.attribute!==M||A.data!==M.data){p=!0;break a}}p=k.index!==C?!0:!1}if(p){F={};g=z.attributes;for(var y in g)A={},A.attribute=g[y],F[y]=A;k.attributes=F;k.index=C}}if(p){f();z=z.attributes;t=t.getAttributes();for(const M in t)C=t[M],0<=C&&(y=z[M],void 0!==y&&(F=y.normalized,p=y.itemSize,A=c.get(y),void 0!==A&&(g=A.buffer,A=A.type,y.isInterleavedBufferAttribute||(y.isInstancedBufferAttribute||h(C),a.bindBuffer(34962,g),(!0!==d.isWebGL2||5124!==
A&&5125!==A)&&a.vertexAttribPointer(C,p,A,F,0,0)))));l()}},resetDefaultState:function(){u.geometry=null;u.program=null;u.wireframe=!1},initAttributes:f,enableAttribute:h,disableUnusedAttributes:l}}function Ib(a,b,c,d){let e;this.setMode=function(f){e=f};this.render=function(f,h){a.drawArrays(e,f,h);c.update(h,e,1)}}function Jb(a,b,c){function d(z){return"highp"===z&&0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision?"highp":"lowp"}const e="undefined"!==
typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&a instanceof WebGL2ComputeRenderingContext;let f=void 0!==c.precision?c.precision:"highp";d(f);c=!0===c.logarithmicDepthBuffer;const h=a.getParameter(34930),l=a.getParameter(35660),n=a.getParameter(3379),m=a.getParameter(34076),r=a.getParameter(34921),v=a.getParameter(36347),u=a.getParameter(36348),k=a.getParameter(36349),p=0<l;b=e||!!b.get("OES_texture_float");const g=p&&b,t=e?
a.getParameter(36183):0;return{isWebGL2:e,getMaxPrecision:d,precision:f,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:l,maxTextureSize:n,maxCubemapSize:m,maxAttributes:r,maxVertexUniforms:v,maxVaryings:u,maxFragmentUniforms:k,vertexTextures:p,floatFragmentTextures:b,floatVertexTextures:g,maxSamples:t}}function Kb(a){const b=this;let c=0,d=!1;this.uniform={value:null,needsUpdate:!1};this.numIntersection=this.numPlanes=0;this.init=function(e,f,h){h=0!==e.length||f||0!==c||d;d=f;b.numPlanes=
null!==e?e.length:0;b.numIntersection=0;c=e.length;return h}}function Lb(a){return{get:function(b){return b}}}function Mb(a){const b={};return{has:function(c){let d;switch(c){case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;default:d=a.getExtension(c)}b[c]=d;return null!==d},get:function(c){this.has(c);return b[c]}}}function Nb(a,b,c,d){const e=
new WeakMap;return{get:function(f,h){let l=e.get(h);if(l)return l;!h.isBufferGeometry&&h.isGeometry&&(void 0===h._bufferGeometry&&(h._bufferGeometry=(new sa).setFromObject(f)),l=h._bufferGeometry);e.set(h,l);c.memory.geometries++;return l},update:function(f){f=f.attributes;for(const h in f)b.update(f[h],34962)}}}function Ob(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=
0;b.points=0;b.lines=0},update:function(c,d,e){b.calls++;switch(d){case 4:b.triangles+=c/3*e}}}}function Pb(a,b,c,d){let e=new WeakMap;return{update:function(f){const h=d.render.frame,l=f.geometry,n=b.get(f,l);e.get(n)!==h&&(l.isGeometry&&n.updateFromObject(f),b.update(n),e.set(n,h));return n}}}function Oa(){}function Pa(){}function Qb(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function Rb(){}function Sb(a,b){const c=this.cache;void 0!==b.x||void 0===b.r||c[0]===b.r&&c[1]===
b.g&&c[2]===b.b||(a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b)}function Tb(a,b){const c=this.cache;b=b.elements;if(void 0!==b){a:if(c.length!==b.length)var d=!1;else{for(let e=0,f=c.length;e<f;e++)if(c[e]!==b[e]){d=!1;break a}d=!0}if(!d){kb.set(b);a.uniformMatrix4fv(this.addr,!1,kb);for(let e=0,f=b.length;e<f;e++)c[e]=b[e]}}}function Ub(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTexture2D(b||Vb,e)}function Wb(a){switch(a){case 5126:return Qb;
case 35664:return Rb;case 35665:return Sb;case 35676:return Tb;case 35678:case 36198:case 36298:case 36306:case 35682:return Ub}}function Xb(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=Wb(b.type)}function Yb(){}function ta(a,b){this.seq=[];this.map={};const c=a.getProgramParameter(b,35718);for(let f=0;f<c;++f){var d=a.getActiveUniform(b,f),e=a.getUniformLocation(b,d.name);const h=d.name,l=h.length;for(bb.lastIndex=0;;){const n=bb.exec(h),m=bb.lastIndex;let r=n[1];const v=n[3];"]"===n[2]&&
(r|=0);if(void 0===v||"["===v&&m+2===l){d=void 0===v?new Xb(r,d,e):new Yb(r,d,e);this.seq.push(d);this.map[d.id]=d;break}}}}function lb(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b}function Zb(a,b){a:{switch(b){case 3E3:b=["Linear","( value )"];break a}b=void 0}return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function mb(a){return""!==a}function nb(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,
b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function ob(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function pb(){}function qb(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision&&(b+="\n#define HIGH_PRECISION");return b}function $b(a){let b="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType&&(b="SHADOWMAP_TYPE_PCF");
return b}function ac(a,b,c,d){const e=a.getContext();var f=c.defines;d=c.vertexShader;let h=c.fragmentShader;$b(c);a=0<a.gammaFactor?a.gammaFactor:1;const l=c.isWebGL2?"":void 0,n=e.createProgram();f=c.glslVersion?"#version "+c.glslVersion+"\n":"";if(!c.isRawShaderMaterial)var m=[qb(c),"#define SHADER_NAME "+c.shaderName,"",c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+a,c.useFog&&
c.fog?"#define USE_FOG":"",c.map?"#define USE_MAP":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;",
"#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","\n"].filter(mb).join("\n"),r=[l,qb(c),"#define SHADER_NAME "+c.shaderName,"",c.alphaTest?"#define ALPHATEST "+c.alphaTest+(c.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+a,c.useFog&&c.fog?"#define USE_FOG":"",c.map?"#define USE_MAP":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?
"#define UVS_VERTEX_ONLY":"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.dithering?"#define DITHERING":"",bc.encodings_pars_fragment,c.map?void 0:"",c.matcap?void 0:"",c.emissiveMap?void 0:"",c.lightMap?void 0:"",Zb("linearToOutputTexel",c.outputEncoding),c.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(mb).join("\n");d=d.replace(rb,pb);d=nb(d,c);d=ob(d,c);h=h.replace(rb,pb);
h=nb(h,c);h=ob(h,c);c.isWebGL2&&!0!==c.isRawShaderMaterial&&(f="#version 300 es\n",m="#define attribute in\n#define varying out\n#define texture2D texture\n"+m,r=["#define varying in","300 es"===c.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===c.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+r);r=f+r+h;m=lb(e,35633,f+m+d);d=lb(e,35632,r);e.attachShader(n,m);e.attachShader(n,d);e.linkProgram(n);e.deleteShader(m);e.deleteShader(d);let v;this.getUniforms=function(){void 0===v&&(v=new ta(e,n));return v};let u;this.getAttributes=function(){if(void 0===u){const k={},p=e.getProgramParameter(n,35721);for(let g=0;g<p;g++){const t=e.getActiveAttrib(n,g).name;k[t]=e.getAttribLocation(n,t)}u=k}return u};this.name=c.shaderName;this.id=cc++;this.cacheKey=b;this.usedTimes=1;this.program=n;this.vertexShader=
m;this.fragmentShader=d;return this}function dc(a,b,c,d,e,f){function h(g){let t;g||(t=3E3);return t}const l=[],n=d.isWebGL2,m=d.logarithmicDepthBuffer,r=d.floatVertexTextures,v=d.vertexTextures;let u=d.precision;const k={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",
LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",SpriteMaterial:"sprite"},p="precision isWebGL2 supportsVertexTextures outputEncoding instancing instancingColor map mapEncoding matcap matcapEncoding lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer maxBones useVertexTexture premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen transmissionMap".split(" ");
return{getParameters:function(g,t,z,C,A){z=C.fog;C=g.isMeshStandardMaterial?C.environment:null;b.get(g.envMap||C);C=k[g.type];let F,y;C||(F=g.vertexShader,y=g.fragmentShader);const M=a.getRenderTarget();return{isWebGL2:n,shaderID:C,shaderName:g.type,vertexShader:F,fragmentShader:y,defines:g.defines,isRawShaderMaterial:!0===g.isRawShaderMaterial,glslVersion:g.glslVersion,precision:u,instancing:!0===A.isInstancedMesh,instancingColor:!0===A.isInstancedMesh&&null!==A.instanceColor,supportsVertexTextures:v,
outputEncoding:null!==M?h(M.texture):a.outputEncoding,map:!!g.map,mapEncoding:h(g.map),matcap:!!g.matcap,matcapEncoding:h(g.matcap),lightMap:!!g.lightMap,lightMapEncoding:h(g.lightMap),aoMap:!!g.aoMap,emissiveMap:!!g.emissiveMap,emissiveMapEncoding:h(g.emissiveMap),bumpMap:!!g.bumpMap,normalMap:!!g.normalMap,objectSpaceNormalMap:1===g.normalMapType,tangentSpaceNormalMap:0===g.normalMapType,clearcoatMap:!!g.clearcoatMap,clearcoatRoughnessMap:!!g.clearcoatRoughnessMap,clearcoatNormalMap:!!g.clearcoatNormalMap,
displacementMap:!!g.displacementMap,roughnessMap:!!g.roughnessMap,metalnessMap:!!g.metalnessMap,alphaMap:!!g.alphaMap,gradientMap:!!g.gradientMap,sheen:!!g.sheen,transmissionMap:!!g.transmissionMap,combine:g.combine,vertexTangents:g.normalMap&&g.vertexTangents,vertexColors:g.vertexColors,vertexUvs:!!g.map||!!g.bumpMap||!!g.normalMap||!!g.alphaMap||!!g.emissiveMap||!!g.roughnessMap||!!g.metalnessMap||!!g.clearcoatMap||!!g.clearcoatRoughnessMap||!!g.clearcoatNormalMap||!!g.displacementMap||!!g.transmissionMap,
uvsVertexOnly:!(g.map||g.bumpMap||g.normalMap||g.alphaMap||g.emissiveMap||g.roughnessMap||g.metalnessMap||g.clearcoatNormalMap||g.transmissionMap)&&!!g.displacementMap,fog:!!z,useFog:g.fog,fogExp2:z&&z.isFogExp2,flatShading:g.flatShading,sizeAttenuation:g.sizeAttenuation,logarithmicDepthBuffer:m,maxBones:0,useVertexTexture:r,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numClippingPlanes:f.numPlanes,
numClipIntersection:f.numIntersection,dithering:g.dithering,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:g.premultipliedAlpha,alphaTest:g.alphaTest,doubleSided:2===g.side,flipSided:1===g.side,depthPacking:void 0!==g.depthPacking?g.depthPacking:!1,index0AttributeName:g.index0AttributeName,extensionDerivatives:g.extensions&&g.extensions.derivatives,extensionFragDepth:g.extensions&&g.extensions.fragDepth,extensionDrawBuffers:g.extensions&&g.extensions.drawBuffers,extensionShaderTextureLOD:g.extensions&&
g.extensions.shaderTextureLOD,rendererExtensionFragDepth:n||c.has("EXT_frag_depth"),rendererExtensionDrawBuffers:n||c.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:n||c.has("EXT_shader_texture_lod"),customProgramCacheKey:g.customProgramCacheKey()}},getProgramCacheKey:function(g){const t=[];g.shaderID||(t.push(g.fragmentShader),t.push(g.vertexShader));if(!1===g.isRawShaderMaterial){for(let z=0;z<p.length;z++)t.push(g[p[z]]);t.push(a.outputEncoding);t.push(a.gammaFactor)}t.push(g.customProgramCacheKey);
return t.join()},getUniforms:function(g){let t;k[g.type]||(t=g.uniforms);return t},acquireProgram:function(g,t){let z;void 0===z&&(z=new ac(a,t,g,e),l.push(z));return z},programs:l}}function ec(){let a=new WeakMap;return{get:function(b){let c=a.get(b);void 0===c&&(c={},a.set(b,c));return c}}}function fc(){}function gc(a,b){if(a.groupOrder===b.groupOrder&&a.renderOrder===b.renderOrder&&a.z!==b.z)return b.z-a.z}function hc(a){const b=[];let c=0;const d=[],e=[],f={id:-1};return{opaque:d,transparent:e,
init:function(){c=0;d.length=0;e.length=0},push:function(h,l,n,m,r,v){let u=b[c];const k=a.get(n);void 0===u?(u={id:h.id,object:h,geometry:l,material:n,program:k.program||f,groupOrder:m,renderOrder:h.renderOrder,z:r,group:v},b[c]=u):(u.id=h.id,u.object=h,u.geometry=l,u.material=n,u.program=k.program||f,u.groupOrder=m,u.renderOrder=h.renderOrder,u.z=r,u.group=v);c++;(!0===n.transparent?e:d).push(u)},sort:function(h,l){1<d.length&&d.sort(h||fc);1<e.length&&e.sort(l||gc)}}}function ic(a){let b=new WeakMap;
return{get:function(c,d){var e=b.get(c);void 0===e?(e=new hc(a),b.set(c,new WeakMap),b.get(c).set(d,e)):e=e.get(d);return e}}}function jc(a,b){b={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1},ambient:[0,0,0],probe:[],directional:[],spot:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],hemi:[]};for(a=0;9>a;a++)b.probe.push(new Q);return{state:b}}function kc(a,b){const c=new jc(a,b),d=[],e=[];return{init:function(){d.length=0;e.length=
0},state:{lightsArray:d,shadowsArray:e,lights:c},setupLights:function(f){c.setup(d,e,f)}}}function lc(a,b){let c=new WeakMap;return{get:function(d,e){let f;!1===c.has(d)?(f=new kc(a,b),c.set(d,new WeakMap),c.get(d).set(e,f)):!1!==c.get(d).has(e)&&(f=c.get(d).get(e));return f}}}function mc(a,b,c){(new na({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new ba},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",
fragmentShader:""})).clone().defines.HORIZONAL_PASS=1;(new sa).setAttribute("position",new S(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1}function nc(a,b,c){function d(q,L,G){const E=new Uint8Array(4),D=a.createTexture();a.bindTexture(q,D);a.texParameteri(q,10241,9728);a.texParameteri(q,10240,9728);for(q=0;q<G;q++)a.texImage2D(L+q,0,6408,1,1,0,6408,5121,E);return D}function e(q){!0!==v[q]&&(a.enable(q),v[q]=!0)}function f(q){!1!==
v[q]&&(a.disable(q),v[q]=!1)}function h(q,L,G,E,D,N,O,ha){if(0!==q)if(k||(e(3042),k=!0),5!==q){if(q!==p||ha!==z){if(100!==g||100!==t)a.blendEquation(32774),t=g=100;if(!ha)switch(q){case 1:a.blendFuncSeparate(770,771,1,771)}p=q;z=ha}}else p=q,z=null}function l(q){C!==q&&(q||a.frontFace(2305),C=q)}function n(q){0!==q&&(e(2884),q!==A&&1===q&&a.cullFace(1029));A=q}const m=new function(){const q=new ca;let L=null;const G=new ca(0,0,0,0);return{setMask:function(E){L!==E&&(a.colorMask(E,E,E,E),L=E)},setClear:function(E,
D,N,O,ha){!0===ha&&(E*=O,D*=O,N*=O);q.set(E,D,N,O);!1===G.equals(q)&&(a.clearColor(E,D,N,O),G.copy(q))}}},r=new function(){let q=null,L=null,G=null;return{setTest:function(E){E?e(2929):f(2929)},setMask:function(E){q!==E&&(a.depthMask(E),q=E)},setFunc:function(E){if(L!==E){if(E)switch(E){case 3:a.depthFunc(515)}L=E}},setClear:function(E){G!==E&&(a.clearDepth(E),G=E)}}};new function(){return{setTest:function(q){q||f(2960)}}};let v={},u=null,k=null,p=null,g=null,t=null,z=!1,C=null,A=null;const F=a.getParameter(35661);
b=a.getParameter(7938);-1!==b.indexOf("WebGL")?parseFloat(/^WebGL ([0-9])/.exec(b)[1]):b.indexOf("OpenGL ES");let y=null,M={};const da=new ca,Y=new ca,Z={};Z[3553]=d(3553,3553,1);Z[34067]=d(34067,34069,6);m.setClear(0,0,0,1);r.setClear(1);e(2929);r.setFunc(3);l(!1);n(1);e(2884);h(0);return{buffers:{color:m,depth:r},enable:e,disable:f,useProgram:function(q){return u!==q?(a.useProgram(q),u=q,!0):!1},setBlending:h,setMaterial:function(q,L){2===q.side?f(2884):e(2884);let G=1===q.side;L&&(G=!G);l(G);1===
q.blending&&!1===q.transparent?h(0):h(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha);r.setFunc(q.depthFunc);r.setTest(q.depthTest);r.setMask(q.depthWrite);m.setMask(q.colorWrite);q.polygonOffset||f(32823)},setFlipSided:l,setCullFace:n,setPolygonOffset:function(q){q||f(32823)},activeTexture:function(q){void 0===q&&(q=33984+F-1);y!==q&&(a.activeTexture(q),y=q)},bindTexture:function(q,L){let G=M[y];void 0===G&&(G={type:void 0,
texture:void 0},M[y]=G);if(G.type!==q||G.texture!==L)a.bindTexture(q,L||Z[q]),G.type=q,G.texture=L},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(q){}},scissor:function(q){!1===da.equals(q)&&(a.scissor(q.x,q.y,q.z,q.w),da.copy(q))},viewport:function(q){!1===Y.equals(q)&&(a.viewport(q.x,q.y,q.z,q.w),Y.copy(q))}}}function oc(a,b,c,d,e,f,h){function l(k){return ia.isPowerOfTwo(k.width)&&ia.isPowerOfTwo(k.height)}function n(k,p){const g=d.get(k);if(0<k.version&&g.__version!==k.version){var t=
k.image;if(void 0!==t&&!1!==t.complete){t=3553;k.isDataTexture2DArray&&(t=35866);k.isDataTexture3D&&(t=32879);void 0===g.__webglInit&&(g.__webglInit=!0,g.__webglTexture=a.createTexture(),h.memory.textures++);c.activeTexture(33984+p);c.bindTexture(t,g.__webglTexture);a.pixelStorei(37440,k.flipY);a.pixelStorei(37441,k.premultiplyAlpha);a.pixelStorei(3317,k.unpackAlignment);(m?0:1001!==k.wrapS||1001!==k.wrapT||1003!==k.minFilter&&1006!==k.minFilter)&&l(k.image);p=k.image;var z=l(p)||m;const F=f.convert(k.format);
let y=f.convert(k.type);if(!1===m)var C=F;else C=F,6408===F&&(5126===y&&(C=34836),5131===y&&(C=34842),5121===y&&(C=32856));var A=t;z&&(a.texParameteri(A,10242,v[k.wrapS]),a.texParameteri(A,10243,v[k.wrapT]),a.texParameteri(A,10240,u[k.magFilter]),a.texParameteri(A,10241,u[k.minFilter]));!b.get("EXT_texture_filter_anisotropic")||1015===k.type&&null===b.get("OES_texture_float_linear")||1016===k.type&&null===(m||b.get("OES_texture_half_float_linear"))||1<k.anisotropy||d.get(k);A=k.mipmaps;k.isDepthTexture||
k.isDataTexture||k.isCompressedTexture||k.isDataTexture2DArray||k.isDataTexture3D||0<A.length&&z||(c.texImage2D(3553,0,C,F,y,p),g.__maxMipLevel=0);k.generateMipmaps&&z&&1003!==k.minFilter&&1006!==k.minFilter&&(z=p.width,p=p.height,a.generateMipmap(t),d.get(k).__maxMipLevel=Math.log(Math.max(z,p))*Math.LOG2E);g.__version=k.version;if(k.onUpdate)k.onUpdate(k);return}}c.activeTexture(33984+p);c.bindTexture(3553,g.__webglTexture)}const m=e.isWebGL2;try{"undefined"!==typeof OffscreenCanvas&&(new OffscreenCanvas(1,
1)).getContext("2d")}catch(k){}let r=0;const v={[1E3]:10497,[1001]:33071,[1002]:33648},u={[1003]:9728,[1004]:9984,[1005]:9986,[1006]:9729,[1007]:9985,[1008]:9987};this.allocateTextureUnit=function(){const k=r;r+=1;return k};this.resetTextureUnits=function(){r=0};this.setTexture2D=n;this.safeSetTexture2D=function(k,p){n(k,p)}}function pc(a,b,c){return{convert:function(d){if(1009===d)return 5121;if(1023===d)return 6408}}}function cb(a){oa.call(this);this.cameras=a||[]}function qc(a,b){a=new oa;a.layers.enable(1);
a.viewport=new ca;a=new oa;a.layers.enable(2);a.viewport=new ca;a=new cb;a.layers.enable(1);a.layers.enable(2);this.isPresenting=this.enabled=!1;this.getSession=function(){return null}}function rc(a){return{refreshMaterialUniforms:function(b,c){c.isMeshBasicMaterial||c.isMeshLambertMaterial||c.isMeshToonMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.isMeshMatcapMaterial||c.isMeshDepthMaterial||c.isMeshDistanceMaterial||c.isMeshNormalMaterial||c.isLineBasicMaterial||c.isPointsMaterial||
c.isSpriteMaterial||!c.isShaderMaterial||(c.uniformsNeedUpdate=!1)}}}function xa(a,b,c,d,e,f,h,l,n){W.call(this,a,b,c,d,e,f,h,l,n);this.needsUpdate=!0}function Qa(){Object.defineProperty(this,"id",{value:sc+=2});this.uuid=ia.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=
this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function sb(a){this.manager=void 0!==a?a:tc;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader={}}function db(a){sb.call(this,a);this.options={premultiplyAlpha:"none"}}const T=[];for(let a=0;256>a;a++)T[a]=(16>a?"0":"")+a.toString(16);const ia={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*
Math.random()|0,d=4294967295*Math.random()|0;return(T[a&255]+T[a>>8&255]+T[a>>16&255]+T[a>>24&255]+"-"+T[b&255]+T[b>>8&255]+"-"+T[b>>16&15|64]+T[b>>24&255]+"-"+T[c&63|128]+T[c>>8&255]+"-"+T[c>>16&255]+T[c>>24&255]+T[d&255]+T[d>>8&255]+T[d>>16&255]+T[d>>24&255]).toUpperCase()},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a}};class ba{constructor(a=0,b=0){Object.defineProperty(this,"isVector2",{value:!0});this.x=a;this.y=b}clone(){return new this.constructor(this.x,this.y)}fromBufferAttribute(a,
b){this.x=a.getX(b);this.y=a.getY(b);return this}}class ja{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0});this.elements=[1,0,0,0,1,0,0,0,1]}set(a,b,c,d,e,f,h,l,n){const m=this.elements;m[0]=a;m[1]=d;m[2]=h;m[3]=b;m[4]=e;m[5]=l;m[6]=c;m[7]=f;m[8]=n;return this}clone(){return(new this.constructor).fromArray(this.elements)}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}getInverse(a,b){var c=a.elements;a=this.elements;b=c[0];const d=
c[1],e=c[2],f=c[3],h=c[4],l=c[5],n=c[6],m=c[7];c=c[8];const r=c*h-l*m,v=l*n-c*f,u=m*f-h*n;var k=b*r+d*v+e*u;if(0===k)return this.set(0,0,0,0,0,0,0,0,0);k=1/k;a[0]=r*k;a[1]=(e*m-c*d)*k;a[2]=(l*d-e*h)*k;a[3]=v*k;a[4]=(c*b-e*n)*k;a[5]=(e*f-l*b)*k;a[6]=u*k;a[7]=(d*n-m*b)*k;a[8]=(h*b-d*f)*k;return this}transpose(){let a;const b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).getInverse(this).transpose()}fromArray(a,
b=0){for(let c=0;9>c;c++)this.elements[c]=a[c+b];return this}}let zb=0;W.DEFAULT_IMAGE=void 0;W.DEFAULT_MAPPING=300;W.prototype={constructor:W,isTexture:!0};Object.defineProperty(W.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});class ca{constructor(a=0,b=0,c=0,d=1){Object.defineProperty(this,"isVector4",{value:!0});this.x=a;this.y=b;this.z=c;this.w=d}set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;
return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}}Ga.prototype={constructor:Ga,isWebGLRenderTarget:!0};ib.prototype=Object.assign(Object.create(Ga.prototype),{constructor:ib,isWebGLMultisampleRenderTarget:!0});class Bb{constructor(a=0,b=0,c=0,d=1){Object.defineProperty(this,
"isQuaternion",{value:!0});this._x=a;this._y=b;this._z=c;this._w=d}setFromEuler(a,b){b=a._x;var c=a._y,d=a._z;a=a._order;var e=Math.cos;const f=Math.sin,h=e(b/2),l=e(c/2);e=e(d/2);b=f(b/2);c=f(c/2);d=f(d/2);switch(a){case "XYZ":this._x=b*l*e+h*c*d,this._y=h*c*e-b*l*d,this._z=h*l*d+b*c*e,this._w=h*l*e-b*c*d}return this}}class Q{constructor(a=0,b=0,c=0){Object.defineProperty(this,"isVector3",{value:!0});this.x=a;this.y=b;this.z=c}set(a,b,c){void 0===c&&(c=this.z);this.x=a;this.y=b;this.z=c;return this}clone(){return new this.constructor(this.x,
this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}applyMatrix3(a){const b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this}applyMatrix4(a){const b=this.x,c=this.y,d=this.z;a=a.elements;const e=
1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}length(){return Math.sqrt(this.x*this.x+this.y*
this.y+this.z*this.z)}normalize(){return this.divideScalar(this.length()||1)}cross(a){return this.crossVectors(this,a)}crossVectors(a,b){const c=a.x,d=a.y;a=a.z;const e=b.x,f=b.y;b=b.z;this.x=d*b-a*f;this.y=a*e-c*b;this.z=c*f-d*e;return this}distanceToSquared(a){const b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}}
class uc{constructor(a,b){Object.defineProperty(this,"isBox3",{value:!0});this.min=void 0!==a?a:new Q(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Q(-Infinity,-Infinity,-Infinity)}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?
a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}}const vc=new uc;class tb{constructor(a,b){this.center=void 0!==a?a:new Q;this.radius=void 0!==b?b:-1}setFromPoints(a,b){const c=this.center;void 0===b&&vc.setFromPoints(a).getCenter(c);b=0;for(let d=0,e=a.length;d<e;d++)b=Math.max(b,c.distanceToSquared(a[d]));this.radius=Math.sqrt(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.center.copy(a.center);
this.radius=a.radius;return this}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}}class la{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0});this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this}multiplyMatrices(a,b){var c=
a.elements,d=b.elements;b=this.elements;a=c[0];const e=c[4],f=c[8],h=c[12],l=c[1],n=c[5],m=c[9],r=c[13],v=c[2],u=c[6],k=c[10],p=c[14],g=c[3],t=c[7],z=c[11];c=c[15];const C=d[0],A=d[4],F=d[8],y=d[12],M=d[1],da=d[5],Y=d[9],Z=d[13],q=d[2],L=d[6],G=d[10],E=d[14],D=d[3],N=d[7],O=d[11];d=d[15];b[0]=a*C+e*M+f*q+h*D;b[4]=a*A+e*da+f*L+h*N;b[8]=a*F+e*Y+f*G+h*O;b[12]=a*y+e*Z+f*E+h*d;b[1]=l*C+n*M+m*q+r*D;b[5]=l*A+n*da+m*L+r*N;b[9]=l*F+n*Y+m*G+r*O;b[13]=l*y+n*Z+m*E+r*d;b[2]=v*C+u*M+k*q+p*D;b[6]=v*A+u*da+k*L+p*
N;b[10]=v*F+u*Y+k*G+p*O;b[14]=v*y+u*Z+k*E+p*d;b[3]=g*C+t*M+z*q+c*D;b[7]=g*A+t*da+z*L+c*N;b[11]=g*F+t*Y+z*G+c*O;b[15]=g*y+t*Z+z*E+c*d;return this}determinant(){const a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],h=a[5],l=a[9],n=a[13],m=a[2],r=a[6],v=a[10],u=a[14];return a[3]*(+e*l*r-d*n*r-e*h*v+c*n*v+d*h*u-c*l*u)+a[7]*(+b*l*u-b*n*v+e*f*v-d*f*u+d*n*m-e*l*m)+a[11]*(+b*n*r-b*h*u-e*f*r+c*f*u+e*h*m-c*n*m)+a[15]*(-d*h*m-b*l*r+b*h*v+d*f*r-c*f*v+c*l*m)}getInverse(a,b){b=this.elements;var c=a.elements;
a=c[0];const d=c[1],e=c[2],f=c[3],h=c[4],l=c[5],n=c[6],m=c[7],r=c[8],v=c[9],u=c[10],k=c[11],p=c[12],g=c[13],t=c[14];c=c[15];const z=v*t*m-g*u*m+g*n*k-l*t*k-v*n*c+l*u*c,C=p*u*m-r*t*m-p*n*k+h*t*k+r*n*c-h*u*c,A=r*g*m-p*v*m+p*l*k-h*g*k-r*l*c+h*v*c,F=p*v*n-r*g*n-p*l*u+h*g*u+r*l*t-h*v*t;var y=a*z+d*C+e*A+f*F;if(0===y)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);y=1/y;b[0]=z*y;b[1]=(g*u*f-v*t*f-g*e*k+d*t*k+v*e*c-d*u*c)*y;b[2]=(l*t*f-g*n*f+g*e*m-d*t*m-l*e*c+d*n*c)*y;b[3]=(v*n*f-l*u*f-v*e*m+d*u*m+l*e*
k-d*n*k)*y;b[4]=C*y;b[5]=(r*t*f-p*u*f+p*e*k-a*t*k-r*e*c+a*u*c)*y;b[6]=(p*n*f-h*t*f-p*e*m+a*t*m+h*e*c-a*n*c)*y;b[7]=(h*u*f-r*n*f+r*e*m-a*u*m-h*e*k+a*n*k)*y;b[8]=A*y;b[9]=(p*v*f-r*g*f-p*d*k+a*g*k+r*d*c-a*v*c)*y;b[10]=(h*g*f-p*l*f+p*d*m-a*g*m-h*d*c+a*l*c)*y;b[11]=(r*l*f-h*v*f-r*d*m+a*v*m+h*d*k-a*l*k)*y;b[12]=F*y;b[13]=(r*g*e-p*v*e+p*d*u-a*g*u-r*d*t+a*v*t)*y;b[14]=(p*l*e-h*g*e-p*d*n+a*g*n+h*d*t-a*l*t)*y;b[15]=(h*v*e-r*l*e+r*d*n-a*v*n-h*d*u+a*l*u)*y;return this}getMaxScaleOnAxis(){const a=this.elements;
return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}compose(a,b,c){const d=this.elements;var e=b._x,f=b._y,h=b._z,l=b._w,n=e+e,m=f+f,r=h+h;b=e*n;const v=e*m;e*=r;const u=f*m;f*=r;h*=r;n*=l;m*=l;l*=r;r=c.x;const k=c.y;c=c.z;d[0]=(1-(u+h))*r;d[1]=(v+l)*r;d[2]=(e-m)*r;d[3]=0;d[4]=(v-l)*k;d[5]=(1-(b+h))*k;d[6]=(f+n)*k;d[7]=0;d[8]=(e+m)*c;d[9]=(f-n)*c;d[10]=(1-(b+u))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this}makePerspective(a,
b,c,d,e,f){const h=this.elements;h[0]=2*e/(b-a);h[4]=0;h[8]=(b+a)/(b-a);h[12]=0;h[1]=0;h[5]=2*e/(c-d);h[9]=(c+d)/(c-d);h[13]=0;h[2]=0;h[6]=0;h[10]=-(f+e)/(f-e);h[14]=-2*f*e/(f-e);h[3]=0;h[7]=0;h[11]=-1;h[15]=0;return this}}class Ha{constructor(a=0,b=0,c=0,d=Ha.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0});this._x=a;this._y=b;this._z=c;this._order=d}set z(a){this._z=a;this._onChangeCallback()}_onChange(a){this._onChangeCallback=a;return this}}Ha.DefaultOrder="XYZ";Ha.RotationOrders=
"XYZ YZX ZXY XZY YXZ ZYX".split(" ");class Cb{constructor(){this.mask=1}enable(a){this.mask=this.mask|1<<a|0}test(a){return 0!==(this.mask&a.mask)}}let Ab=0;X.DefaultUp=new Q(0,1,0);X.DefaultMatrixAutoUpdate=!0;X.prototype={constructor:X,isObject3D:!0,add:function(a){a&&a.isObject3D&&(a.parent=this,this.children.push(a));return this},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&
this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)}};class ua{constructor(a,b){Object.defineProperty(this,"isPlane",{value:!0});this.normal=void 0!==a?a:new Q(1,0,0);this.constant=void 0!==b?b:0}setComponents(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this}normalize(){const a=
1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}}class R{constructor(a,b,c){Object.defineProperty(this,"isColor",{value:!0});return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}set(a){a&&a.isColor||"number"===typeof a&&this.setHex(a);return this}setHex(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this}setRGB(a,b,c){this.r=a;this.g=b;this.b=c;return this}clone(){return new this.constructor(this.r,
this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}}R.prototype.r=1;R.prototype.g=1;R.prototype.b=1;class ub{constructor(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new Q;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new R;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0}}let Db=0;ma.prototype={constructor:ma,isMaterial:!0,customProgramCacheKey:function(){return""},setValues:function(a){if(void 0!==a)for(const b in a){const c=
a[b],d=this[b];d&&d.isColor||d&&d.isVector3&&c&&c.isVector3||(this[b]=c)}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=
a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.clippingPlanes=null;this.clipIntersection=a.clipIntersection;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.visible=a.visible;this.userData=JSON.parse(JSON.stringify(a.userData));
return this}};wa.prototype=Object.create(ma.prototype);wa.prototype.constructor=wa;wa.prototype.isMeshBasicMaterial=!0;Object.assign(S.prototype,{isBufferAttribute:!0,copyColorsArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let f=a[d];b[c++]=f.r;b[c++]=f.g;b[c++]=f.b}return this},copyVector2sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let f=a[d];b[c++]=f.x;b[c++]=f.y}return this},copyVector3sArray:function(a){const b=this.array;let c=
0;for(let d=0,e=a.length;d<e;d++){let f=a[d];b[c++]=f.x;b[c++]=f.y;b[c++]=f.z}return this},getX:function(a){return this.array[a*this.itemSize]},getY:function(a){return this.array[a*this.itemSize+1]},getZ:function(a){return this.array[a*this.itemSize+2]}});Ua.prototype=Object.create(S.prototype);Ua.prototype.constructor=Ua;Va.prototype=Object.create(S.prototype);Va.prototype.constructor=Va;Wa.prototype=Object.create(S.prototype);Wa.prototype.constructor=Wa;Xa.prototype=Object.create(S.prototype);Xa.prototype.constructor=
Xa;Ia.prototype=Object.create(S.prototype);Ia.prototype.constructor=Ia;Ya.prototype=Object.create(S.prototype);Ya.prototype.constructor=Ya;Ja.prototype=Object.create(S.prototype);Ja.prototype.constructor=Ja;ra.prototype=Object.create(S.prototype);ra.prototype.constructor=ra;Za.prototype=Object.create(S.prototype);Za.prototype.constructor=Za;class wc{constructor(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=
this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}computeGroups(a){const b=[];let c,d=void 0;const e=a.faces;for(a=0;a<e.length;a++){const f=e[a];f.materialIndex!==d&&(d=f.materialIndex,c={start:3*a,materialIndex:d})}void 0!==c&&(c.count=3*a-c.start,b.push(c));this.groups=b}fromGeometry(a){const b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length;for(let h=0;h<b.length;h++){var f=b[h];this.vertices.push(c[f.a],c[f.b],c[f.c]);const l=f.vertexNormals;
3===l.length&&this.normals.push(l[0],l[1],l[2]);3!==f.vertexColors.length&&(f=f.color,this.colors.push(f,f,f));!0===e&&(f=d[0][h],void 0!==f&&this.uvs.push(f[0],f[1],f[2]))}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this}}let Eb=1;sa.prototype=
{constructor:sa,isBufferGeometry:!0,setIndex:function(a){if(Array.isArray(a)){if(0===a.length)var b=-Infinity;else{b=a[0];for(let c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c])}this.index=new (65535<b?Ja:Ia)(a,1)}return this},setAttribute:function(a,b){this.attributes[a]=b;return this},setFromObject:function(a){const b=a.geometry;a.isPoints||a.isLine||a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},updateFromObject:function(a){let b=a.geometry;a.isMesh&&(a=b.__directGeometry,a.verticesNeedUpdate=
b.verticesNeedUpdate,a.normalsNeedUpdate=b.normalsNeedUpdate,a.colorsNeedUpdate=b.colorsNeedUpdate,a.uvsNeedUpdate=b.uvsNeedUpdate,a.groupsNeedUpdate=b.groupsNeedUpdate,b.verticesNeedUpdate=!1,b.normalsNeedUpdate=!1,b.colorsNeedUpdate=!1,b.uvsNeedUpdate=!1,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new wc).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.setAttribute("position",
(new S(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.setAttribute("normal",(new S(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.setAttribute("color",(new S(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.setAttribute("uv",(new S(b,2)).copyVector2sArray(a.uvs)));this.groups=a.groups;null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());
return this}};$a.prototype=Object.assign(Object.create(X.prototype),{constructor:$a,isMesh:!0});na.prototype=Object.create(ma.prototype);na.prototype.constructor=na;na.prototype.isShaderMaterial=!0;na.prototype.copy=function(a){ma.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=jb(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=
a.clipping;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this};Ka.prototype=Object.assign(Object.create(X.prototype),{constructor:Ka,isCamera:!0,updateMatrixWorld:function(a){X.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)}});oa.prototype=Object.assign(Object.create(Ka.prototype),{constructor:oa,isPerspectiveCamera:!0,updateProjectionMatrix:function(){const a=this.near;let b=a*Math.tan(.5*ia.DEG2RAD*this.fov)/this.zoom,
c=2*b,d=this.aspect*c,e=-.5*d;const f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)}});ab.prototype=Object.create(X.prototype);ab.prototype.constructor=ab;La.prototype=Object.create(W.prototype);La.prototype.constructor=La;La.prototype.isCubeTexture=!0;Ma.prototype=Object.create(Ga.prototype);Ma.prototype.constructor=Ma;Ma.prototype.isWebGLCubeRenderTarget=!0;Na.prototype=
Object.create(W.prototype);Na.prototype.constructor=Na;Na.prototype.isDataTexture=!0;const vb=new tb;class xc{constructor(a,b,c,d,e,f){this.planes=[void 0!==a?a:new ua,void 0!==b?b:new ua,void 0!==c?c:new ua,void 0!==d?d:new ua,void 0!==e?e:new ua,void 0!==f?f:new ua]}setFromProjectionMatrix(a){const b=this.planes;var c=a.elements;a=c[0];const d=c[1],e=c[2],f=c[3],h=c[4],l=c[5],n=c[6],m=c[7],r=c[8],v=c[9],u=c[10],k=c[11],p=c[12],g=c[13],t=c[14];c=c[15];b[0].setComponents(f-a,m-h,k-r,c-p).normalize();
b[1].setComponents(f+a,m+h,k+r,c+p).normalize();b[2].setComponents(f+d,m+l,k+v,c+g).normalize();b[3].setComponents(f-d,m-l,k-v,c-g).normalize();b[4].setComponents(f-e,m-n,k-u,c-t).normalize();b[5].setComponents(f+e,m+n,k+u,c+t).normalize();return this}intersectsObject(a){const b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();vb.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(vb)}intersectsSphere(a){const b=this.planes;a=a.center;for(let c=0;6>c;c++)b[c].distanceToPoint(a);
return!0}}class yc extends sa{constructor(a,b,c,d){super();this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;const h=c+1;var l=d+1,n=a/c,m=b/d;b=[];a=[];const r=[],v=[];for(let u=0;u<l;u++){const k=u*m-f;for(let p=0;p<h;p++)a.push(p*n-e,-k,0),r.push(0,0,1),v.push(p/c),v.push(1-u/d)}for(e=0;e<d;e++)for(f=0;f<c;f++)l=f+h*(e+1),n=f+1+h*(e+1),m=f+1+h*e,b.push(f+h*e,l,m),b.push(l,n,m);
this.setIndex(b);this.setAttribute("position",new ra(a,3));this.setAttribute("normal",new ra(r,3));this.setAttribute("uv",new ra(v,2))}}const bc={encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) { return value; }"};var ea={diffuse:{value:new R(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ja},uv2Transform:{value:new ja},alphaMap:{value:null}},eb={specularMap:{value:null}},ya={reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},za={aoMap:{value:null},
aoMapIntensity:{value:1}},Aa={lightMap:{value:null},lightMapIntensity:{value:1}},Ra={emissiveMap:{value:null}},Ba={bumpMap:{value:null},bumpScale:{value:1}},Ca={normalMap:{value:null},normalScale:{value:new ba(1,1)}},pa={displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},fa={fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new R(16777215)}},Da={ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},
color:{}}},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},zc={diffuse:{value:new R(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},
alphaMap:{value:null},uvTransform:{value:new ja}},Ac={diffuse:{value:new R(15658734)},opacity:{value:1},center:{value:new ba(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ja}};V([ea,eb,ya,za,Aa,fa]);V([ea,eb,ya,za,Aa,Ra,fa,Da,{emissive:{value:new R(0)}}]);V([ea,eb,ya,za,Aa,Ra,Ba,Ca,pa,fa,Da,{emissive:{value:new R(0)},shininess:{value:30}}]);var Bc=V([ea,ya,za,Aa,Ra,Ba,Ca,pa,{roughnessMap:{value:null}},{metalnessMap:{value:null}},fa,Da,{emissive:{value:new R(0)},
roughness:{value:1},metalness:{value:0}}]);V([ea,za,Aa,Ra,Ba,Ca,pa,{gradientMap:{value:null}},fa,Da,{emissive:{value:new R(0)}}]);V([ea,Ba,Ca,pa,fa,{matcap:{value:null}}]);V([zc,fa]);V([ea,fa,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]);V([ea,pa]);V([ea,Ba,Ca,pa,{opacity:{value:1}}]);V([Ac,fa]);new ja;V([ya,{opacity:{value:1}}]);V([ea,pa,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1E3}}]);V([Da,fa,{color:{value:new R(0)},opacity:{value:1}}]);V([Bc,{clearcoat:{value:0},
clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ba(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new R(0)},transmission:{value:0},transmissionMap:{value:null}}]);Oa.prototype=Object.create(W.prototype);Oa.prototype.constructor=Oa;Oa.prototype.isDataTexture2DArray=!0;Pa.prototype=Object.create(W.prototype);Pa.prototype.constructor=Pa;Pa.prototype.isDataTexture3D=!0;const Vb=new W,kb=new Float32Array(16),bb=/([\w\d_]+)(\])?(\[|\.)?/g;
ta.prototype.setValue=function(a,b,c,d){b=this.map[b];void 0!==b&&b.setValue(a,c,d)};ta.upload=function(a,b,c,d){for(let e=0,f=b.length;e!==f;++e){const h=b[e],l=c[h.id];!1!==l.needsUpdate&&h.setValue(a,l.value,d)}};ta.seqWithValue=function(a,b){const c=[];for(let d=0,e=a.length;d!==e;++d){const f=a[d];f.id in b&&c.push(f)}return c};let cc=0;const rb=/^[ \t]*#include +<([\w\d./]+)>/gm;cb.prototype=Object.assign(Object.create(oa.prototype),{constructor:cb,isArrayCamera:!0});class Cc{constructor(a,
b,c){Object.defineProperty(this,"isFog",{value:!0});this.name="";this.color=new R(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}}class Dc extends X{constructor(){super();Object.defineProperty(this,"isScene",{value:!0});this.type="Scene";this.overrideMaterial=this.fog=this.environment=this.background=null;this.autoUpdate=!0}}xa.prototype=Object.create(W.prototype);xa.prototype.constructor=xa;xa.prototype.isCanvasTexture=!0;let sc=0;Qa.prototype={constructor:Qa,isGeometry:!0,fromBufferGeometry:function(a){const b=
null!==a.index?a.index:void 0;var c=a.attributes,d=c.position;const e=c.normal,f=c.color,h=c.uv;void 0!==c.uv2&&(this.faceVertexUvs[1]=[]);for(c=0;c<d.count;c++)this.vertices.push((new Q).fromBufferAttribute(d,c));if(!(0<a.groups.length)&&void 0!==b)for(let n=0;n<b.count;n+=3){a=b.getX(n);d=b.getX(n+1);c=b.getX(n+2);var l=void 0===f?[]:[this.colors[a].clone(),this.colors[d].clone(),this.colors[c].clone()];const m=void 0===e?[]:[(new Q).fromBufferAttribute(e,a),(new Q).fromBufferAttribute(e,d),(new Q).fromBufferAttribute(e,
c)];l=new ub(a,d,c,m,l,void 0);this.faces.push(l);void 0!==h&&this.faceVertexUvs[0].push([(new ba).fromBufferAttribute(h,a),(new ba).fromBufferAttribute(h,d),(new ba).fromBufferAttribute(h,c)])}this.computeFaceNormals();return this},computeFaceNormals:function(){const a=new Q,b=new Q;for(let c=0,d=this.faces.length;c<d;c++){const e=this.faces[c],f=this.vertices[e.a],h=this.vertices[e.b];a.subVectors(this.vertices[e.c],h);b.subVectors(f,h);a.cross(b);a.normalize();e.normal.copy(a)}},computeBoundingSphere:function(){null===
this.boundingSphere&&(this.boundingSphere=new tb);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b){var c=this.vertices.length,d=this.vertices,e=a.vertices,f=this.faces;const h=a.faces;var l=(new ja).getNormalMatrix(b);for(let m=0,r=e.length;m<r;m++){var n=e[m].clone();n.applyMatrix4(b);d.push(n)}for(let m=0,r=h.length;m<r;m++){b=h[m];e=b.vertexNormals;n=new ub(b.a+c,b.b+c,b.c+c);n.normal.copy(b.normal);void 0!==l&&n.normal.applyMatrix3(l).normalize();for(let v=0,u=e.length;v<
u;v++)d=e[v].clone(),void 0!==l&&d.applyMatrix3(l).normalize(),n.vertexNormals.push(d);n.color.copy(b.color);n.materialIndex=b.materialIndex;f.push(n)}for(let m=0,r=a.faceVertexUvs.length;m<r;m++){l=a.faceVertexUvs[m];void 0===this.faceVertexUvs[m]&&(this.faceVertexUvs[m]=[]);for(let v=0,u=l.length;v<u;v++){c=l[v];f=[];for(let k=0,p=c.length;k<p;k++)f.push(c[k].clone());this.faceVertexUvs[m].push(f)}}},mergeVertices:function(){var a={};const b=[];var c=[],d=Math.pow(10,4);for(let f=0,h=this.vertices.length;f<
h;f++){var e=this.vertices[f];e=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d);void 0===a[e]&&(a[e]=f,b.push(this.vertices[f]),c[f]=b.length-1)}c=this.vertices.length-b.length;this.vertices=b;return c}};class Ec extends Qa{constructor(a,b,c,d){super();this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new yc(a,b,c,d));this.mergeVertices()}}const wb={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=
b)},get:function(a){if(!1!==this.enabled)return this.files[a]}},tc=new function(a,b,c){this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.resolveURL=function(d){return d}};db.prototype=Object.assign(Object.create(sb.prototype),{constructor:db,isImageBitmapLoader:!0,load:function(a,b){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const c=this;wb.get(a);const d={};d.credentials="anonymous"===this.crossOrigin?"same-origin":"include";fetch(a,
d).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,c.options)}).then(function(e){wb.add(a,e);b&&b(e)})}});return{WebGLRenderer:function(a){function b(w,B){for(let J=0;J<w.length;J++){const x=e.getContext(w[J],B);if(null!==x)return x}return null}function c(w,B,J,x){if(!1!==w.visible){if(!(!w.layers.test(B.layers)||w.isGroup||w.isLOD||w.isLight||w.isSprite||w.isImmediateRenderObject||!(w.isMesh||w.isLine||w.isPoints)||w.frustumCulled&&!Z.intersectsObject(w))){x&&G.setFromMatrixPosition(w.matrixWorld).applyMatrix4(L);
const H=Sa.update(w),P=w.material;Array.isArray(P)||P.visible&&k.push(w,H,P,J,G.z,null)}w=w.children;for(let H=0,P=w.length;H<P;H++)c(w[H],B,J,x)}}function d(w,B,J){const x=!0===B.isScene?B.overrideMaterial:null;for(let aa=0,ka=w.length;aa<ka;aa++){var H=w[aa],P=H.object,qa=H.geometry,I=null===x?H.material:x,U=H.group;if(!J.isArrayCamera){C=null;H=B;var K=J;p=Ta.get(H,C||K);P.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,P.matrixWorld);P.normalMatrix.getNormalMatrix(P.modelViewMatrix);P.isImmediateRenderObject||
g.renderBufferDirect(K,H,qa,I,P,U);p=Ta.get(H,C||K)}}}a=a||{};const e=a.canvas;var f=void 0!==a.context?a.context:null,h=void 0!==a.alpha?a.alpha:!1;const l=void 0!==a.depth?a.depth:!0,n=void 0!==a.antialias?a.antialias:!1;var m=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0;const r=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,v=void 0!==a.powerPreference?a.powerPreference:"default",u=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1;let k=null,p=null;
this.domElement=e;this.sortObjects=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.outputEncoding=3E3;this.physicallyCorrectLights=!1;const g=this;let t=-1,z=null,C=null;const A=new ca;var F=new ca;let y=e.width,M=e.height;const da=new ca(0,0,y,M);var Y=new ca(0,0,y,M);const Z=new xc;let q=!1;const L=new la,G=new Q,E={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let D=f;f={alpha:h,
depth:l,antialias:n,premultipliedAlpha:m,preserveDrawingBuffer:r,powerPreference:v,failIfMajorPerformanceCaveat:u};null===D&&(D=b(["webgl2","webgl","experimental-webgl"],f));let N,O,ha,Ea,Sa,va,xb,fb,Ta,gb,yb,hb,Fa;f=new Mb(D);a=new Jb(D,f,a);h=new pc(D,f,a);N=new nc(D,f,a);F=new Ob(D);O=new ec;ha=new oc(D,f,N,O,a,h,F);Ea=new Lb(g);Y=new Fb(D,a);Fa=new Hb(D,f,Y,a);h=new Nb(D,Y,F,Fa);Sa=new Pb(D,h,Y,F);gb=new Kb(O);va=new dc(g,Ea,f,a,Fa,gb);xb=new rc(O);fb=new ic(O);Ta=new lc(f,a);yb=new Gb(g,Ea,N,
Sa,m);hb=new Ib(D,f,F,a);F.programs=va.programs;g.capabilities=a;g.extensions=f;g.properties=O;g.renderLists=fb;g.state=N;g.info=F;this.xr=new qc(g,D);new mc(g,Sa,a.maxTextureSize);this.getContext=function(){return D};this.setSize=function(w,B){y=w;M=B;e.width=Math.floor(1*w);e.height=Math.floor(1*B);this.setViewport(0,0,w,B)};this.setViewport=function(w,B,J,x){w.isVector4||da.set(w,B,J,x);N.viewport(A.copy(da).multiplyScalar(1).floor())};this.clear=function(w,B,J){let x=0;if(void 0===w||w)x|=16384;
if(void 0===B||B)x|=256;if(void 0===J||J)x|=1024;D.clear(x)};this.renderBufferDirect=function(w,B,J,x,H,P){null===B&&(B=E);var qa=H.isMesh&&0>H.matrixWorld.determinant(),I=B;!0!==I.isScene&&(I=E);ha.resetTextureUnits();B=x.isMeshStandardMaterial?I.environment:null;Ea.get(x.envMap||B);B=O.get(x);if(x.version!==B.__version){var U=I;!0!==U.isScene&&(U=E);I=O.get(x);var K=p.state.lights,aa=K.state.version;K=va.getParameters(x,K.state,p.state.shadowsArray,U,H);var ka=va.getProgramCacheKey(K);K.uniforms=
va.getUniforms(x);ka=va.acquireProgram(K,ka);I.program=ka;I.uniforms=K.uniforms;I.outputEncoding=K.outputEncoding;K=I.uniforms;I.environment=x.isMeshStandardMaterial?U.environment:null;I.fog=U.fog;I.envMap=Ea.get(x.envMap||I.environment);I.needsLights=x.isMeshLambertMaterial||x.isMeshToonMaterial||x.isMeshPhongMaterial||x.isMeshStandardMaterial||x.isShaderMaterial&&!0===x.lights;I.lightsStateVersion=aa;U=I.program.getUniforms();U=ta.seqWithValue(U.seq,K);I.uniformsList=U;B.__version=x.version}aa=
U=!1;I=B.program;K=I.getUniforms();ka=B.uniforms;N.useProgram(I.program)&&(aa=U=!0);x.id!==t&&(t=x.id,aa=!0);if(U||z!==w)K.setValue(D,"projectionMatrix",w.projectionMatrix),z!==w&&(z=w,aa=!0),(x.isMeshPhongMaterial||x.isMeshToonMaterial||x.isMeshLambertMaterial||x.isMeshBasicMaterial||x.isMeshStandardMaterial||x.isShaderMaterial)&&K.setValue(D,"isOrthographic",!0===w.isOrthographicCamera),(x.isMeshPhongMaterial||x.isMeshToonMaterial||x.isMeshLambertMaterial||x.isMeshBasicMaterial||x.isMeshStandardMaterial||
x.isShaderMaterial)&&K.setValue(D,"viewMatrix",w.matrixWorldInverse);if(aa||B.receiveShadow!==H.receiveShadow)B.receiveShadow=H.receiveShadow,K.setValue(D,"receiveShadow",H.receiveShadow);aa&&(K.setValue(D,"toneMappingExposure",g.toneMappingExposure),xb.refreshMaterialUniforms(ka,x,1,M),ta.upload(D,B.uniformsList,ka,ha));K.setValue(D,"modelViewMatrix",H.modelViewMatrix);K.setValue(D,"normalMatrix",H.normalMatrix);K.setValue(D,"modelMatrix",H.matrixWorld);N.setMaterial(x,qa);w=J.index;qa=J.attributes.position;
if(null!==w||void 0!==qa&&0!==qa.count)Fa.setup(H,x,I,J,w),I=1*J.drawRange.start,U=null!==P?1*P.start:0,B=Math.max(I,U),P=Math.max(0,Math.min(null!==w?w.count:qa.count,I+1*J.drawRange.count,U+(null!==P?1*P.count:Infinity))-1-B+1),0!==P&&(H.isMesh&&!0!==x.wireframe&&hb.setMode(4),H.isInstancedMesh||J.isInstancedBufferGeometry||hb.render(B,P))};this.render=function(w,B,J,x){Fa.resetDefaultState();t=-1;z=null;!0===w.autoUpdate&&w.updateMatrixWorld();null===B.parent&&B.updateMatrixWorld();p=Ta.get(w,
B);p.init();L.multiplyMatrices(B.projectionMatrix,B.matrixWorldInverse);Z.setFromProjectionMatrix(L);q=this.localClippingEnabled;gb.init(this.clippingPlanes,q,B);k=fb.get(w,B);k.init();c(w,B,0,g.sortObjects);!0===g.sortObjects&&k.sort(null,null);!0===this.info.autoReset&&this.info.reset();yb.render(k,w,B,void 0);J=k.opaque;x=k.transparent;0<J.length&&d(J,w,B);0<x.length&&d(x,w,B);N.buffers.depth.setTest(!0);N.buffers.depth.setMask(!0);N.buffers.color.setMask(!0);N.setPolygonOffset(!1);p=k=null};this.getRenderTarget=
function(){return null}},PerspectiveCamera:oa,ImageBitmapLoader:db,CanvasTexture:xa,LinearFilter:1006,LinearMipMapLinearFilter:1008,Fog:Cc,ShaderMaterial:na,Mesh:$a,PlaneGeometry:Ec,Geometry:Qa,Scene:Dc}};
